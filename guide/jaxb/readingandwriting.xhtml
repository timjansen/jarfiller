<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:page="http://tjansen.de/refPage" xmlns:i="http://tjansen.de/internal"><head><title>Reading and Writing XML - JAXB Guide</title><meta http-equiv="X-UA-Compatible" content="chrome=1"/><meta http-equiv="content-language" content="en"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="stylesheet" type="text/css" href="../../style/style.css"/><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-6791190-2']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
})();
</script><script type="text/javascript" src="../../js/all.js"/></head><body id="body"><div id="visibleContent"><div id="top"><a href="/"><img src="../../images/titlebar.png" alt="Jarfiller.com"/></a></div><div id="main"><div id="bodycolumn"><div class="yahbar"><div class="yahprev"><a href="mappingclasses.xhtml">Prev</a></div><h3 class="yahhere"><a href="#" onclick="return navToggle();">JAXB Guide / Reading and Writing XML</a></h3><div class="yahnext"><a href="namespaces.xhtml">Next</a></div></div><h1 id="sec_readingandwriting" class="multipageTitle"><a name="readingandwriting">Reading and Writing XML</a></h1><div class="subSecRow1" id="sec_writingxml"><div class="subSecHead" id="sechd_writingxml"><a name="writingxml">Writing XML</a><br/>(<a href="#" id="tl-d2e893" class="dottedTooltip" onclick="return tlClick('tl-d2e893','pp-d2e898');" onmouseover="return tlOver('tl-d2e893','pp-d2e898');" onmouseout="return tlOut('tl-d2e893','pp-d2e898');">more</a>)
		</div><div class="subSecContent" id="seccnt_writingxml"><pre class="subSecCode"><code>List&lt;Movie&gt; movies = new java.util.ArrayList&lt;Movie&gt;();
movies.add(new Movie("Casablanca", 1942));
movies.add(new Movie("Dr Zhivago", 1965));
movies.add(new Movie("Out of Africa", 1985));
MovieLibrary library = new MovieLibrary(movies);

<em><a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXB.html#marshal(java.lang.Object, java.io.File)" class="javadoc">JAXB.marshal</a></em>(library, new File("/tmp/library.xml"));  <span class="cmt">// write XML (<a href="#" id="tl-d2e939" class="dottedTooltip" onclick="return tlClick('tl-d2e939','pp-d2e939');" onmouseover="return tlOver('tl-d2e939','pp-d2e939');" onmouseout="return tlOut('tl-d2e939','pp-d2e939');">more</a>)</span>

</code></pre></div></div><div class="subSecRow2" id="sec_writingxmlresult"><div class="subSecHead" id="sechd_writingxmlresult"><a name="writingxmlresult">Result</a></div><div class="subSecContent" id="seccnt_writingxmlresult"><p class="subSecExplanation">Result of the previous code snippet:</p><pre class="subSecCode"><code>&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;movieLibrary&gt;
    &lt;collection&gt;
        &lt;name&gt;Casablanca&lt;/name&gt;
        &lt;releaseYear&gt;1942&lt;/releaseYear&gt;
    &lt;/collection&gt;
    &lt;collection&gt;
        &lt;name&gt;Dr Zhivago&lt;/name&gt;
        &lt;releaseYear&gt;1965&lt;/releaseYear&gt;
    &lt;/collection&gt;
    &lt;collection&gt;
        &lt;name&gt;Out of Africa&lt;/name&gt;
        &lt;releaseYear&gt;1985&lt;/releaseYear&gt;
    &lt;/collection&gt;
&lt;/movieLibrary&gt;
</code></pre></div></div><div class="subSecRow1" id="sec_readingxml"><div class="subSecHead" id="sechd_readingxml"><a name="readingxml">Reading XML</a><br/>(<a href="#" id="tl-d2e1008" class="dottedTooltip" onclick="return tlClick('tl-d2e1008','pp-d2e1013');" onmouseover="return tlOver('tl-d2e1008','pp-d2e1013');" onmouseout="return tlOut('tl-d2e1008','pp-d2e1013');">more</a>)
		</div><div class="subSecContent" id="seccnt_readingxml"><pre class="subSecCode"><code>MovieLibrary library = <em><a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXB.html#unmarshal(java.io.File, java.lang.Class)" class="javadoc">JAXB.unmarshal</a></em>(new File("/tmp/library.xml"), 
                               MovieLibrary.class);  <span class="cmt">// read XML (<a href="#" id="tl-d2e1040" class="dottedTooltip" onclick="return tlClick('tl-d2e1040','pp-d2e1040');" onmouseover="return tlOver('tl-d2e1040','pp-d2e1040');" onmouseout="return tlOut('tl-d2e1040','pp-d2e1040');">more</a>)</span>

assert library.getCollection().size() == 3;
assert library.getCollection().get(0).getTitle().equals("Casablanca");
assert library.getCollection().get(2).getReleaseYear() == 1985;
</code></pre></div></div><div class="subSecRow2" id="sec_supportedtypes"><div class="subSecHead" id="sechd_supportedtypes"><a name="supportedtypes">Supported Types</a><br/>(<a href="#" id="tl-d2e1060" class="dottedTooltip" onclick="return tlClick('tl-d2e1060','pp-d2e1065');" onmouseover="return tlOver('tl-d2e1060','pp-d2e1065');" onmouseout="return tlOut('tl-d2e1060','pp-d2e1065');">more</a>)
		</div><div class="subSecContent" id="seccnt_supportedtypes"><p class="subSecExplanation">Beside beans, JAXB supports the following types natively. Each of them can also be used either as element content or for XML attributes:</p><div class="subSecTableDiv"><table><tr><th>Java type</th><th>XML Simple Schema type</th></tr><tr><td><span class="idf">java.lang.String</span></td><td>xs:string</td></tr><tr><td><span class="idf">int</span></td><td>xs:int</td></tr><tr><td><span class="idf">long</span></td><td>xs:long</td></tr><tr><td><span class="idf">boolean</span></td><td>xs:boolean</td></tr><tr><td><span class="idf">byte</span></td><td>xs:byte</td></tr><tr><td><span class="idf">short</span></td><td>xs:short</td></tr><tr><td><span class="idf">float</span></td><td>xs:float</td></tr><tr><td><span class="idf">double</span></td><td>xs:double</td></tr><tr><td><span class="idf">byte[]</span></td><td>xs:base64Binary</td></tr><tr><td><span class="idf">java.math.BigInteger</span></td><td>xs:integer</td></tr><tr><td><span class="idf">java.math.BigDecimal</span></td><td>xs:decimal</td></tr><tr><td><span class="idf">java.util.Date</span></td><td>xs:dateTime</td></tr><tr><td><a href="http://java.sun.com/javase/6/docs/api/javax/xml/namespace/QName.html" class="javadoc">javax.xml.namespace.QName</a></td><td>xs:QName</td></tr><tr><td><a href="http://java.sun.com/javase/6/docs/api/javax/xml/datatype/Duration.html" class="javadoc">javax.xml.datatype.Duration</a></td><td>xs:duration</td></tr></table></div><p class="subSecExplanation"> Collections are also supported by JAXB and can be used as element content:</p><div class="subSecTableDiv"><table><tr><th>Java type</th><th>XML Mapping</th></tr><tr><td>Arrays, single dimension</td><td>Repeats the element several times, sets <span class="idf">maxOccurs</span> in the schema to <span class="idf">unbounded</span> (except <span class="idf">byte[]</span>, see above).</td></tr><tr><td>Arrays, multi dimension</td><td>For the first dimension, the item is repeated (<span class="idf">maxOccurs</span> in the schema set to <span class="idf">unbounded</span>). For additional dimensions, there is a repeating element <span class="idf">item</span> defined that will be nested.</td></tr><tr><td><span class="idf">java.util.Collection</span> (includes <span class="idf">List</span> and <span class="idf">Set</span>)</td><td>Repeats the element several times, sets <span class="idf">maxOccurs</span> in the schema to <span class="idf">unbounded</span> (like one-dimensional arrays).</td></tr><tr><td><span class="idf">java.util.Map</span></td><td>The element contains an <span class="idf">entry</span> element for each Map entry (<span class="idf">maxOccurs</span> in the schema set to <span class="idf">unbounded</span>), each <span class="idf">entry</span> containing a <span class="idf">key</span> and a <span class="idf">value</span> element.</td></tr></table></div></div></div><div class="yahbar"><div class="yahprev"><a href="mappingclasses.xhtml">Prev<br/><span>Mapping Classes</span></a></div><div class="yahhere"><a href="#" onclick="return navToggle();">JAXB Guide / Reading and Writing XML</a><br/><a href="/guide/jaxb/"><span>Single Page Mode</span></a>, <a href="#" onclick="return navToggle();"><span>Show Table of Content</span></a></div><div class="yahnext"><a href="namespaces.xhtml">Next<br/><span>How to Use XML Namespaces</span></a></div></div></div><div id="sidecolumn">
  	<div><h3>Useful Links</h3><div class="sidecolumnSubTitleLine"/>
  			<a href="http://en.wikipedia.org/wiki/Java_Architecture_for_XML_Binding">JAXB on Wikipedia</a><br/>
  			<a href="https://jaxb.dev.java.net/">JAXB Reference Implementation (Metro)</a><br/>
  			<a href="http://jcp.org/en/jsr/detail?id=222">JSR-222 (JAXB)</a><br/>
  			<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/package-summary.html">Java 6 API javax.xml.bind</a>
  		</div>
  </div></div></div><div id="footer"><div id="footer-content"><div id="footer-left"><div class="footerLine"><a href="/">Home</a> - <a href="/about">About Jarfiller</a> - <a href="/imprint.xhtml">Imprint</a></div><div class="footerLine">Please send feedback and corrections to <a href="mailto:tim@tjansen.de">tim@<span style="display: none">got you</span>tjansen.de</a>.</div><div class="footerLine"><a href="http://www.twitter.com/timjansen">Follow</a> me on Twitter.</div><div class="copyrightLine">Â© 2010 Tim Jansen; content licensed under <a href="http://creativecommons.org/licenses/by/3.0/us/">cc-by</a>; example source code is public domain
				</div></div><div id="footer-right"><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="../../images/ext/cc-by-88x31.png"/></a></div></div></div><div id="navbar" onclick="return navToggle();" onmouseover="document.getElementById('navbar').className='mouseover';" onmouseout="document.getElementById('navbar').className='';"/><div id="navcontainer"><div id="navlinks"><div id="navclosebar"><a href="#" onclick="return navClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="navpositionbar" class="navpositionbar"/><h2 id="navtitle">JAXB Guide</h2><a id="nav_jaxboverview" class="navseclink" href="jaxboverview.xhtml#jaxboverview">Overview</a><a id="nav_intro" class="navsublink" href="jaxboverview.xhtml#intro">Intro</a><a id="nav_usecases" class="navsublink" href="jaxboverview.xhtml#usecases">When should JAXB be used?</a><a id="nav_requirements" class="navsublink" href="jaxboverview.xhtml#requirements">What do you need for JAXB?</a><a id="nav_mappingclasses" class="navseclink" href="mappingclasses.xhtml#mappingclasses">Mapping Classes</a><a id="nav_schemafirst" class="navsublink" href="mappingclasses.xhtml#schemafirst">Schema first?</a><a id="nav_xjc" class="navsublink" href="mappingclasses.xhtml#xjc">xjc</a><a id="nav_propertybased" class="navsublink" href="mappingclasses.xhtml#propertybased">Property-based Beans</a><a id="nav_fieldbased" class="navsublink" href="mappingclasses.xhtml#fieldbased">Field-based beans</a><a id="nav_exampleschema" class="navsublink" href="mappingclasses.xhtml#exampleschema">XML Schema</a><a id="nav_readingandwriting" class="navseclink" href="#readingandwriting" onclick="if (event.button == 0) return goTo('#readingandwriting', true); else return true;">Reading and Writing XML</a><a id="nav_writingxml" class="navsublink" href="#writingxml" onclick="if (event.button == 0) return goTo('#writingxml', true); else return true;">Writing XML</a><a id="nav_writingxmlresult" class="navsublink" href="#writingxmlresult" onclick="if (event.button == 0) return goTo('#writingxmlresult', true); else return true;">Result</a><a id="nav_readingxml" class="navsublink" href="#readingxml" onclick="if (event.button == 0) return goTo('#readingxml', true); else return true;">Reading XML</a><a id="nav_supportedtypes" class="navsublink" href="#supportedtypes" onclick="if (event.button == 0) return goTo('#supportedtypes', true); else return true;">Supported Types</a><span class="navseclink">How to... Mapping</span><a id="nav_namespaces" class="navsublink" href="namespaces.xhtml#namespaces">How to Use XML Namespaces</a><a id="nav_attributes" class="navsublink" href="attributes.xhtml#attributes">How to Declare XML Attributes</a><a id="nav_requiredelements" class="navsublink" href="requiredelements.xhtml#requiredelements">How to Require XML Elements</a><a id="nav_elementnames" class="navsublink" href="elementnames.xhtml#elementnames">How to Specify a Different Name for an Element</a><a id="nav_preventingserialization" class="navsublink" href="preventingserialization.xhtml#preventingserialization">How to Prevent Serialization of Properties or Fields</a><a id="nav_propertyorder" class="navsublink" href="propertyorder.xhtml#propertyorder">How to Specify an Order for Properties/Fields</a><a id="nav_choice" class="navsublink" href="choice.xhtml#choice">How to Have Mixed XML Elements in a Single List (Choice)</a><a id="nav_simpletypes" class="navsublink" href="simpletypes.xhtml#simpletypes">How to Implement a Simple Type</a><a id="nav_xmladapter" class="navsublink" href="xmladapter.xhtml#xmladapter">How to Map Java Types to XML</a><a id="nav_jaxbelement" class="navsublink" href="jaxbelement.xhtml#jaxbelement">How to use JAXBElement</a><span class="navseclink">How to... Serialization</span><a id="nav_jaxbcontext" class="navsublink" href="jaxbcontext.xhtml#jaxbcontext">How to Use JAXBContext</a><a id="nav_customizedserialization" class="navsublink" href="customizedserialization.xhtml#customizedserialization">How to Customize the Serialization / use JAXB 2.0</a><a id="nav_schemavalidation" class="navsublink" href="schemavalidation.xhtml#schemavalidation">How to Validate Against an XML Schema</a><a id="nav_prettyprinting" class="navsublink" href="prettyprinting.xhtml#prettyprinting">How to Create Nicely Formatted XML</a><a id="nav_xmlfragments" class="navsublink" href="xmlfragments.xhtml#xmlfragments">How to Create XML Fragments</a><a id="nav_encoding" class="navsublink" href="encoding.xhtml#encoding">How to Change the Charset Encoding of the XML Output</a><a id="nav_consumer" class="navsublink" href="consumer.xhtml#consumer">How to Send the Content Tree to a DOM/SAX Consumer</a><a id="nav_domtree" class="navsublink" href="domtree.xhtml#domtree">How to Read from a DOM Tree</a><a id="nav_stringreading" class="navsublink" href="stringreading.xhtml#stringreading">How to Read from a String</a><a id="nav_stringwriting" class="navsublink" href="stringwriting.xhtml#stringwriting">How to Serialize XML Into a String</a><a id="nav_xpath" class="navsublink" href="xpath.xhtml#xpath">How to Use XPath on JAXB Content Trees</a><a id="nav_xslt" class="navsublink" href="xslt.xhtml#xslt">How to Use JAXB with XSLT</a><a id="nav_performance" class="navsublink" href="performance.xhtml#performance">How to Improve Performance</a><a id="nav_multithreading" class="navsublink" href="multithreading.xhtml#multithreading">How to Write Thread-safe Code with JAXB</a></div></div><div id="popups"><div id="pp-d2e898" class="tooltip">Since JAXB 2.1, serializing your Java class tree into a XML document is really simple. Just call the static <span class="idf">marshal</span> method and you're done.<br/> Only in more complicated scenarios you will need to create <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBContext.html" class="javadoc">JAXBContext</a> and <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/Marshaller.html" class="javadoc">Marshaller</a> separately. This will be shown in the How-To sections below. </div><div id="pp-d2e939" class="tooltip"> The <span class="idf">marshal</span> method writes the XML structure represented by the first argument into the given file or stream. It is a short cut added in JAXB 2.1 that replaces the complicated setup mechanism of older versions. </div><div id="pp-d2e1013" class="tooltip">Since JAXB 2.1, reading the XML document is as simple as writing. Just call the static <span class="idf">marshal</span> method and you're done.<br/> Only in more complicated scenarios you will need to create <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBContext.html" class="javadoc">JAXBContext</a> and <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/Unmarshaller.html" class="javadoc">Unmarshaller</a> separately. This will be shown in the How-To sections below. </div><div id="pp-d2e1040" class="tooltip"> The <span class="idf">unmarshal</span> method reads the XML structure represented by the first argument will and creates an object tree using the class specified in the second argument. It is a short cut added since JAXB 2.1 that replaces the complicated setup mechanism of older versions. </div><div id="pp-d2e1065" class="tooltip">The Java types in this section's tables can be translated directly into corresponding XML types. You do not need to convert them manually. All other types are treated as beans by default. Alternatively you could also write an <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/adapters/XmlAdapter.html" class="javadoc">@XmlAdapter</a> to map a type and declare it with a <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/adapters/XmlJavaTypeAdapter.html" class="javadoc">@XmlJavaTypeAdapter</a> annotation.</div><div id="ttCloseBar" class="closeBar"><a href="#" onclick="return tlClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="topicCloseBar" class="closeBar"><a href="#" onclick="return tpcClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div></div></body></html>