<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:page="http://tjansen.de/refPage" xmlns:i="http://tjansen.de/internal"><head><title>How to use JAXBElement - JAXB Guide</title><meta http-equiv="X-UA-Compatible" content="chrome=1"/><meta http-equiv="content-language" content="en"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="stylesheet" type="text/css" href="../../style/style.css"/><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-6791190-2']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
})();
</script><script type="text/javascript" src="../../js/all.js"/></head><body id="body"><div id="visibleContent"><div id="top"><a href="/"><img src="../../images/titlebar.png" alt="Jarfiller.com"/></a></div><div id="main"><div id="bodycolumn"><div class="yahbar"><div class="yahprev"><a href="xmladapter.xhtml">Prev</a></div><h3 class="yahhere"><a href="#" onclick="return navToggle();">JAXB Guide / How to... Mapping</a></h3><div class="yahnext"><a href="jaxbcontext.xhtml">Next</a></div></div><h1 id="sec_howtomapping" class="multipageTitle">How to use JAXBElement</h1><div class="subSecRow2" id="sec_jaxbelement"><div class="subSecHead" id="sechd_jaxbelement"><a name="jaxbelement">JAXBElement</a></div><div class="subSecContent" id="seccnt_jaxbelement"><p class="subSecExplanation"><a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html" class="javadoc">JAXBElement</a> is used in JAXB where the <a href="#" id="tl-d2e2857" class="dottedTooltip" onclick="return tpcClick('tl-d2e2857','pp-d2e20');" onmouseover="return tpcOver('tl-d2e2857','pp-d2e20');" onmouseout="return tpcOut('tl-d2e2857','pp-d2e20');">XML Schema</a> can not be represented by a Java bean. You will often encounter it when compiling complex XML Schema documents with <a href="#" id="tl-d2e2860" class="dottedTooltip" onclick="return tlClick('tl-d2e2860','pp-d2e332');" onmouseover="return tlOver('tl-d2e2860','pp-d2e332');" onmouseout="return tlOut('tl-d2e2860','pp-d2e332');">xjc</a>. Each <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html" class="javadoc">JAXBElement</a> corresponds to an XML element. It stores the element's tag name as well as its content. The content of a <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html" class="javadoc">JAXBElement</a> can be any object supported by JAXB, beans or simple types.<br/> The following example</p><pre class="subSecCode"><code>Movie movieContent = new Movie("Casablanca", 1942);
<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html" class="javadoc">JAXBElement</a>&lt;Movie&gt; myMovie = <em><a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html#JAXBElement(javax.xml.namespace.QName, java.lang.Class, T)" class="javadoc">new JAXBElement</a>&lt;Movie&gt;(new QName("myMovie"),</em>
                                           <em>Movie.class, movieContent)</em>;
<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXB.html#marshal(java.lang.Object, java.io.Writer)" class="javadoc">JAXB.marshal</a>(myMovie, new File("/tmp/movie.xml"));
</code></pre><p class="subSecExplanation">will create this XML:</p><pre class="subSecCode"><code>&lt;<em>myMovie</em>&gt;
  &lt;releaseYear&gt;1942&lt;/releaseYear&gt;
  &lt;title&gt;Casablanca&lt;/title&gt;
&lt;/<em>myMovie</em>&gt;
</code></pre><p class="subSecExplanation">Note that the tag name of the generated element is not <span class="idf">Movie</span>, but <span class="idf">myMovie</span>, as specified in the <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html" class="javadoc">JAXBElement</a>.</p><h4 class="subSecMiniHeadline">JAXBElement for Choice</h4><p class="subSecExplanation">Here is an example for a XML Schema that will need <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html" class="javadoc">JAXBElement</a>:</p><pre class="subSecCode"><code>&lt;xs:schema version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;
  &lt;xs:element name="movieSoSoLibrary"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:<em>choice</em> minOccurs="0" maxOccurs="unbounded"&gt;
        &lt;xs:element <em>name="goodMovie" type="movie"</em> nillable="true"/&gt;
        &lt;xs:element <em>name="badMovie" type="movie"</em> nillable="true"/&gt;
      &lt;/xs:<em>choice</em>&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:complexType name="movie"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element name="releaseYear" type="xs:int"/&gt;
      &lt;xs:element name="title" type="xs:string"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;
&lt;/xs:schema&gt;
</code></pre><p class="subSecExplanation">In this example, the tag names <span class="idf">goodMovie</span> and <span class="idf">badMovie</span> can both be used to represent the <span class="idf">movie</span> type. In order to differentiate a <span class="idf">goodMovie</span> from a <span class="idf">badMovie</span>, even though both are represented by the <span class="idf">Movie</span> class, <a href="#" id="tl-d2e3031" class="dottedTooltip" onclick="return tlClick('tl-d2e3031','pp-d2e332');" onmouseover="return tlOver('tl-d2e3031','pp-d2e332');" onmouseout="return tlOut('tl-d2e3031','pp-d2e332');">xjc</a> will create the following code:</p><pre class="subSecCode"><code><a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/XmlAccessorType.html" class="javadoc">@XmlAccessorType</a>(<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/XmlAccessType.html#FIELD" class="javadoc">XmlAccessType.FIELD</a>)
<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/XmlType.html" class="javadoc">@XmlType</a>(name = "", propOrder = { "goodMovieOrBadMovie" })
<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/XmlRootElement.html" class="javadoc">@XmlRootElement</a>(name = "movieSoSoLibrary")
public class MovieSoSoLibrary {

  <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/XmlElementRefs.html" class="javadoc">@XmlElementRefs</a>({
    <em><a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/XmlElementRef.html" class="javadoc">@XmlElementRef</a>(name = "goodMovie", type = JAXBElement.class),</em>
    <em><a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/XmlElementRef.html" class="javadoc">@XmlElementRef</a>(name = "badMovie", type = JAXBElement.class)</em>
  })
  protected <em>List&lt;<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html" class="javadoc">JAXBElement</a>&lt;Movie&gt;&gt; goodMovieOrBadMovie</em>;

  public List&lt;<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html" class="javadoc">JAXBElement</a>&lt;Movie&gt;&gt; getGoodMovieOrBadMovie() {
    if (goodMovieOrBadMovie == null) {
      goodMovieOrBadMovie = new ArrayList&lt;<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html" class="javadoc">JAXBElement</a>&lt;Movie&gt;&gt;();
    }
  return this.goodMovieOrBadMovie;
  }
}
</code></pre><p class="subSecExplanation">When <a href="#" id="tl-d2e3126" class="dottedTooltip" onclick="return tlClick('tl-d2e3126','pp-d2e332');" onmouseover="return tlOver('tl-d2e3126','pp-d2e332');" onmouseout="return tlOut('tl-d2e3126','pp-d2e332');">xjc</a> generates such code, it places factory methods for the <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html" class="javadoc">JAXBElement</a> instances into a class called <span class="idf">ObjectFactory</span>. There you can find the following definitions for creating <span class="idf">goodMovie</span> and <span class="idf">badMovie</span> elements:</p><pre class="subSecCode"><code><a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/XmlElementDecl.html" class="javadoc">@XmlElementDecl</a>(namespace = "", name = "badMovie", scope = MovieSoSoLibrary.class)
public <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html" class="javadoc">JAXBElement</a>&lt;Movie&gt; createMovieSoSoLibraryBadMovie(Movie value) {
  return <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html#JAXBElement(javax.xml.namespace.QName, java.lang.Class, java.lang.Class, T)" class="javadoc">new JAXBElement</a>&lt;Movie&gt;(_MovieSoSoLibraryBadMovie_QNAME, 
                                   Movie.class, MovieSoSoLibrary.class, value);
}

<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/XmlElementDecl.html" class="javadoc">@XmlElementDecl</a>(namespace = "", name = "goodMovie", scope = MovieSoSoLibrary.class)
public <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html" class="javadoc">JAXBElement</a>&lt;Movie&gt; createMovieSoSoLibraryGoodMovie(Movie value) {
  return <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html#JAXBElement(javax.xml.namespace.QName, java.lang.Class, java.lang.Class, T)" class="javadoc">new JAXBElement</a>&lt;Movie&gt;(_MovieSoSoLibraryGoodMovie_QNAME, 
                                   Movie.class, MovieSoSoLibrary.class, value);
}
</code></pre><p class="subSecExplanation">Note that the <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/XmlElementRef.html" class="javadoc">@XmlElementRef</a> annotations in the <span class="idf">MovieSoSoLibrary</span> refer to the <a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/XmlElementDecl.html" class="javadoc">@XmlElementDecl</a> annotations in <span class="idf">ObjectFactory</span>.</p></div></div><div class="yahbar"><div class="yahprev"><a href="xmladapter.xhtml">Prev<br/><span>How to Map Java Types to XML</span></a></div><div class="yahhere"><a href="#" onclick="return navToggle();">JAXB Guide / How to... Mapping</a><br/><a href="/guide/jaxb/"><span>Single Page Mode</span></a>, <a href="#" onclick="return navToggle();"><span>Show Table of Content</span></a></div><div class="yahnext"><a href="jaxbcontext.xhtml">Next<br/><span>How to Use JAXBContext</span></a></div></div></div><div id="sidecolumn">
  	<div><h3>Useful Links</h3><div class="sidecolumnSubTitleLine"/>
  			<a href="http://en.wikipedia.org/wiki/Java_Architecture_for_XML_Binding">JAXB on Wikipedia</a><br/>
  			<a href="https://jaxb.dev.java.net/">JAXB Reference Implementation (Metro)</a><br/>
  			<a href="http://jcp.org/en/jsr/detail?id=222">JSR-222 (JAXB)</a><br/>
  			<a href="http://java.sun.com/javase/6/docs/api/javax/xml/bind/package-summary.html">Java 6 API javax.xml.bind</a>
  		</div>
  </div></div></div><div id="footer"><div id="footer-content"><div id="footer-left"><div class="footerLine"><a href="/">Home</a> - <a href="/about">About Jarfiller</a> - <a href="/imprint.xhtml">Imprint</a></div><div class="footerLine">Please send feedback and corrections to <a href="mailto:tim@tjansen.de">tim@<span style="display: none">got you</span>tjansen.de</a>.</div><div class="footerLine"><a href="http://www.twitter.com/timjansen">Follow</a> me on Twitter.</div><div class="copyrightLine">© 2010 Tim Jansen; content licensed under <a href="http://creativecommons.org/licenses/by/3.0/us/">cc-by</a>; example source code is public domain
				</div></div><div id="footer-right"><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="../../images/ext/cc-by-88x31.png"/></a></div></div></div><div id="navbar" onclick="return navToggle();" onmouseover="document.getElementById('navbar').className='mouseover';" onmouseout="document.getElementById('navbar').className='';"/><div id="navcontainer"><div id="navlinks"><div id="navclosebar"><a href="#" onclick="return navClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="navpositionbar" class="navpositionbar"/><h2 id="navtitle">JAXB Guide</h2><a id="nav_jaxboverview" class="navseclink" href="jaxboverview.xhtml#jaxboverview">Overview</a><a id="nav_intro" class="navsublink" href="jaxboverview.xhtml#intro">Intro</a><a id="nav_usecases" class="navsublink" href="jaxboverview.xhtml#usecases">When should JAXB be used?</a><a id="nav_requirements" class="navsublink" href="jaxboverview.xhtml#requirements">What do you need for JAXB?</a><a id="nav_mappingclasses" class="navseclink" href="mappingclasses.xhtml#mappingclasses">Mapping Classes</a><a id="nav_schemafirst" class="navsublink" href="mappingclasses.xhtml#schemafirst">Schema first?</a><a id="nav_xjc" class="navsublink" href="mappingclasses.xhtml#xjc">xjc</a><a id="nav_propertybased" class="navsublink" href="mappingclasses.xhtml#propertybased">Property-based Beans</a><a id="nav_fieldbased" class="navsublink" href="mappingclasses.xhtml#fieldbased">Field-based beans</a><a id="nav_exampleschema" class="navsublink" href="mappingclasses.xhtml#exampleschema">XML Schema</a><a id="nav_readingandwriting" class="navseclink" href="readingandwriting.xhtml#readingandwriting">Reading and Writing XML</a><a id="nav_writingxml" class="navsublink" href="readingandwriting.xhtml#writingxml">Writing XML</a><a id="nav_writingxmlresult" class="navsublink" href="readingandwriting.xhtml#writingxmlresult">Result</a><a id="nav_readingxml" class="navsublink" href="readingandwriting.xhtml#readingxml">Reading XML</a><a id="nav_supportedtypes" class="navsublink" href="readingandwriting.xhtml#supportedtypes">Supported Types</a><span class="navseclink">How to... Mapping</span><a id="nav_namespaces" class="navsublink" href="namespaces.xhtml#namespaces">How to Use XML Namespaces</a><a id="nav_attributes" class="navsublink" href="attributes.xhtml#attributes">How to Declare XML Attributes</a><a id="nav_requiredelements" class="navsublink" href="requiredelements.xhtml#requiredelements">How to Require XML Elements</a><a id="nav_elementnames" class="navsublink" href="elementnames.xhtml#elementnames">How to Specify a Different Name for an Element</a><a id="nav_preventingserialization" class="navsublink" href="preventingserialization.xhtml#preventingserialization">How to Prevent Serialization of Properties or Fields</a><a id="nav_propertyorder" class="navsublink" href="propertyorder.xhtml#propertyorder">How to Specify an Order for Properties/Fields</a><a id="nav_choice" class="navsublink" href="choice.xhtml#choice">How to Have Mixed XML Elements in a Single List (Choice)</a><a id="nav_simpletypes" class="navsublink" href="simpletypes.xhtml#simpletypes">How to Implement a Simple Type</a><a id="nav_xmladapter" class="navsublink" href="xmladapter.xhtml#xmladapter">How to Map Java Types to XML</a><a id="nav_jaxbelement" class="navsublink" href="jaxbelement.xhtml#jaxbelement">How to use JAXBElement</a><span class="navseclink">How to... Serialization</span><a id="nav_jaxbcontext" class="navsublink" href="jaxbcontext.xhtml#jaxbcontext">How to Use JAXBContext</a><a id="nav_customizedserialization" class="navsublink" href="customizedserialization.xhtml#customizedserialization">How to Customize the Serialization / use JAXB 2.0</a><a id="nav_schemavalidation" class="navsublink" href="schemavalidation.xhtml#schemavalidation">How to Validate Against an XML Schema</a><a id="nav_prettyprinting" class="navsublink" href="prettyprinting.xhtml#prettyprinting">How to Create Nicely Formatted XML</a><a id="nav_xmlfragments" class="navsublink" href="xmlfragments.xhtml#xmlfragments">How to Create XML Fragments</a><a id="nav_encoding" class="navsublink" href="encoding.xhtml#encoding">How to Change the Charset Encoding of the XML Output</a><a id="nav_consumer" class="navsublink" href="consumer.xhtml#consumer">How to Send the Content Tree to a DOM/SAX Consumer</a><a id="nav_domtree" class="navsublink" href="domtree.xhtml#domtree">How to Read from a DOM Tree</a><a id="nav_stringreading" class="navsublink" href="stringreading.xhtml#stringreading">How to Read from a String</a><a id="nav_stringwriting" class="navsublink" href="stringwriting.xhtml#stringwriting">How to Serialize XML Into a String</a><a id="nav_xpath" class="navsublink" href="xpath.xhtml#xpath">How to Use XPath on JAXB Content Trees</a><a id="nav_xslt" class="navsublink" href="xslt.xhtml#xslt">How to Use JAXB with XSLT</a><a id="nav_performance" class="navsublink" href="performance.xhtml#performance">How to Improve Performance</a><a id="nav_multithreading" class="navsublink" href="multithreading.xhtml#multithreading">How to Write Thread-safe Code with JAXB</a></div></div><div id="popups"><div id="pp-d2e20" class="topic"><div class="topicPara"><span class="topicHead">XML Schema</span></div><div class="topicPara">An XML Schema is used to describe the structure of a XML document. The schema itself is a also XML document,
  		called XML Schema Definition (XSD).</div><div class="topicPara"><span class="topicLinkHead">Homepage: </span><a href="http://www.w3.org/XML/Schema">XML Schema Homepage (W3C)</a><br/><span class="topicLinkHead">Wikipedia: </span><a href="http://en.wikipedia.org/wiki/XML_Schema_(W3C)">XML Schema (W3C)</a></div><div class="topicPara"><span class="topicLinkHead">Specification: </span><a href="http://www.w3.org/TR/xmlschema-0/">Part 0</a>, <a href="http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/structures.html">Part 1</a>, <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html">Part 2</a></div></div><div id="ttCloseBar" class="closeBar"><a href="#" onclick="return tlClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="topicCloseBar" class="closeBar"><a href="#" onclick="return tpcClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div></div></body></html>