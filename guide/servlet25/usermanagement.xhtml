<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:page="http://tjansen.de/refPage" xmlns:i="http://tjansen.de/internal"><head><title>How to Authenticate and Manage Users - Servlet 2.5 Guide</title><meta http-equiv="X-UA-Compatible" content="chrome=1"/><meta http-equiv="content-language" content="en"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="stylesheet" type="text/css" href="../../style/style.css"/><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-6791190-2']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
})();
</script><script type="text/javascript" src="../../js/all.js"/></head><body id="body"><div id="visibleContent"><div id="top"><a href="/"><img src="../../images/titlebar.png" alt="Jarfiller.com"/></a></div><div id="main"><div id="bodycolumn"><div class="yahbar"><div class="yahprev"><a href="filters.xhtml">Prev</a></div><h3 class="yahhere"><a href="#" onclick="return navToggle();">Servlet 2.5 Guide / How to... Sessions and Security</a></h3><div class="yahnext"><a href="declarativesecurity.xhtml">Next</a></div></div><h1 id="sec_howtosessionssecurity" class="multipageTitle">How to Authenticate and Manage Users</h1><div class="subSecRow1" id="sec_usermanagement"><div class="subSecHead" id="sechd_usermanagement"><a name="usermanagement">Authentication</a></div><div class="subSecContent" id="seccnt_usermanagement"><p class="subSecExplanation">The Servlet API requires the container to offer a <em>rudimentary security system</em> which should be sufficient for most internal and corporate sites, but <em>not for consumer-oriented internet sites</em> (<a href="#" id="tl-d22757e9704" class="dottedTooltip" onclick="return tlClick('tl-d22757e9704','pp-d22757e9704');" onmouseover="return tlOver('tl-d22757e9704','pp-d22757e9704');" onmouseout="return tlOut('tl-d22757e9704','pp-d22757e9704');">more</a>).</p><ul class="subSecList"><li><em>Authentication mechanisms</em>: <ul><li><a href="http://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic Authentication</a></li><li><a href="http://en.wikipedia.org/wiki/Digest_access_authentication">HTTP Digest Authentication</a> (optional)</li><li><a href="#" id="tl-d22757e9726" class="dottedTooltip" onclick="return tlClick('tl-d22757e9726','pp-d22757e9729');" onmouseover="return tlOver('tl-d22757e9726','pp-d22757e9729');" onmouseout="return tlOut('tl-d22757e9726','pp-d22757e9729');">SSL Client Authentication</a></li><li>Simple <a href="#" id="tl-d22757e9734" class="dottedTooltip" onclick="return tlClick('tl-d22757e9734','pp-d22757e9737');" onmouseover="return tlOver('tl-d22757e9734','pp-d22757e9737');" onmouseout="return tlOut('tl-d22757e9734','pp-d22757e9737');">form-based authentication</a></li></ul> </li><li><em>User management is container-specific</em> (<a href="#" id="tl-d22757e9751" class="dottedTooltip" onclick="return tlClick('tl-d22757e9751','pp-d22757e9751');" onmouseover="return tlOver('tl-d22757e9751','pp-d22757e9751');" onmouseout="return tlOut('tl-d22757e9751','pp-d22757e9751');">more</a>). In any case, a web application can <em>only get the request user's name and role</em>, but not any additional information, from the container.</li><li>Security is mostly role-based. A <em>web application declares security roles</em> in its <span class="idf">web.xml</span>, and the application defines the rights each role has. Each user can be in one or more roles. The mapping between users and their roles is container specific and must be done by an administrator or the deployer.</li></ul><p class="subSecExplanation"> In order to use the security system, the application needs to <em>declare roles and authentication mechanism</em> in its <span class="idf">web.xml</span> deployment descriptor. </p><h4 class="subSecMiniHeadline">Declaring Roles</h4><p class="subSecExplanation">All roles used by the application must be declared using the <span class="tag">&lt;<a href="#" id="tl-d22757e9785" class="tooltip" onclick="return tlClick('tl-d22757e9785','pp-d22757e622');" onmouseover="return tlOver('tl-d22757e9785','pp-d22757e622');" onmouseout="return tlOut('tl-d22757e9785','pp-d22757e622');">security-role</a>&gt;</span> element in the <span class="idf">web.xml</span> deployment descriptor. </p><pre class="subSecConfig"><span class="tag">&lt;<a href="#" id="tl-d22757e9794" class="tooltip" onclick="return tlClick('tl-d22757e9794','pp-d22757e622');" onmouseover="return tlOver('tl-d22757e9794','pp-d22757e622');" onmouseout="return tlOut('tl-d22757e9794','pp-d22757e622');">security-role</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9797" class="tooltip" onclick="return tlClick('tl-d22757e9797','pp-d22757e330');" onmouseover="return tlOver('tl-d22757e9797','pp-d22757e330');" onmouseout="return tlOut('tl-d22757e9797','pp-d22757e330');">description</a>&gt;</span>Administrator Role<span class="tag">&lt;/<a href="#" id="tl-d22757e9800" class="tooltip" onclick="return tlClick('tl-d22757e9800','pp-d22757e330');" onmouseover="return tlOver('tl-d22757e9800','pp-d22757e330');" onmouseout="return tlOut('tl-d22757e9800','pp-d22757e330');">description</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9802" class="tooltip" onclick="return tlClick('tl-d22757e9802','pp-d22757e630');" onmouseover="return tlOver('tl-d22757e9802','pp-d22757e630');" onmouseout="return tlOut('tl-d22757e9802','pp-d22757e630');">role-name</a>&gt;</span><em>admin</em><span class="tag">&lt;/<a href="#" id="tl-d22757e9806" class="tooltip" onclick="return tlClick('tl-d22757e9806','pp-d22757e630');" onmouseover="return tlOver('tl-d22757e9806','pp-d22757e630');" onmouseout="return tlOut('tl-d22757e9806','pp-d22757e630');">role-name</a>&gt;</span>
<span class="tag">&lt;/<a href="#" id="tl-d22757e9808" class="tooltip" onclick="return tlClick('tl-d22757e9808','pp-d22757e622');" onmouseover="return tlOver('tl-d22757e9808','pp-d22757e622');" onmouseout="return tlOut('tl-d22757e9808','pp-d22757e622');">security-role</a>&gt;</span>

<span class="tag">&lt;<a href="#" id="tl-d22757e9811" class="tooltip" onclick="return tlClick('tl-d22757e9811','pp-d22757e622');" onmouseover="return tlOver('tl-d22757e9811','pp-d22757e622');" onmouseout="return tlOut('tl-d22757e9811','pp-d22757e622');">security-role</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9814" class="tooltip" onclick="return tlClick('tl-d22757e9814','pp-d22757e330');" onmouseover="return tlOver('tl-d22757e9814','pp-d22757e330');" onmouseout="return tlOut('tl-d22757e9814','pp-d22757e330');">description</a>&gt;</span>Privileged User<span class="tag">&lt;/<a href="#" id="tl-d22757e9817" class="tooltip" onclick="return tlClick('tl-d22757e9817','pp-d22757e330');" onmouseover="return tlOver('tl-d22757e9817','pp-d22757e330');" onmouseout="return tlOut('tl-d22757e9817','pp-d22757e330');">description</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9819" class="tooltip" onclick="return tlClick('tl-d22757e9819','pp-d22757e630');" onmouseover="return tlOver('tl-d22757e9819','pp-d22757e630');" onmouseout="return tlOut('tl-d22757e9819','pp-d22757e630');">role-name</a>&gt;</span><em>privileged</em><span class="tag">&lt;/<a href="#" id="tl-d22757e9823" class="tooltip" onclick="return tlClick('tl-d22757e9823','pp-d22757e630');" onmouseover="return tlOver('tl-d22757e9823','pp-d22757e630');" onmouseout="return tlOut('tl-d22757e9823','pp-d22757e630');">role-name</a>&gt;</span>
<span class="tag">&lt;/<a href="#" id="tl-d22757e9825" class="tooltip" onclick="return tlClick('tl-d22757e9825','pp-d22757e622');" onmouseover="return tlOver('tl-d22757e9825','pp-d22757e622');" onmouseout="return tlOut('tl-d22757e9825','pp-d22757e622');">security-role</a>&gt;</span>

<span class="tag">&lt;<a href="#" id="tl-d22757e9828" class="tooltip" onclick="return tlClick('tl-d22757e9828','pp-d22757e622');" onmouseover="return tlOver('tl-d22757e9828','pp-d22757e622');" onmouseout="return tlOut('tl-d22757e9828','pp-d22757e622');">security-role</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9831" class="tooltip" onclick="return tlClick('tl-d22757e9831','pp-d22757e330');" onmouseover="return tlOver('tl-d22757e9831','pp-d22757e330');" onmouseout="return tlOut('tl-d22757e9831','pp-d22757e330');">description</a>&gt;</span>Guest User<span class="tag">&lt;/<a href="#" id="tl-d22757e9834" class="tooltip" onclick="return tlClick('tl-d22757e9834','pp-d22757e330');" onmouseover="return tlOver('tl-d22757e9834','pp-d22757e330');" onmouseout="return tlOut('tl-d22757e9834','pp-d22757e330');">description</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9836" class="tooltip" onclick="return tlClick('tl-d22757e9836','pp-d22757e630');" onmouseover="return tlOver('tl-d22757e9836','pp-d22757e630');" onmouseout="return tlOut('tl-d22757e9836','pp-d22757e630');">role-name</a>&gt;</span><em>guest</em><span class="tag">&lt;/<a href="#" id="tl-d22757e9840" class="tooltip" onclick="return tlClick('tl-d22757e9840','pp-d22757e630');" onmouseover="return tlOver('tl-d22757e9840','pp-d22757e630');" onmouseout="return tlOut('tl-d22757e9840','pp-d22757e630');">role-name</a>&gt;</span>
<span class="tag">&lt;/<a href="#" id="tl-d22757e9842" class="tooltip" onclick="return tlClick('tl-d22757e9842','pp-d22757e622');" onmouseover="return tlOver('tl-d22757e9842','pp-d22757e622');" onmouseout="return tlOut('tl-d22757e9842','pp-d22757e622');">security-role</a>&gt;</span>
				 </pre><h4 class="subSecMiniHeadline">Basic Authentication</h4><p class="subSecExplanation">For basic authentication, add this to your <span class="idf">web.xml</span> deployment descriptor:</p><pre class="subSecConfig"><span class="tag">&lt;<a href="#" id="tl-d22757e9855" class="tooltip" onclick="return tlClick('tl-d22757e9855','pp-d22757e607');" onmouseover="return tlOver('tl-d22757e9855','pp-d22757e607');" onmouseout="return tlOut('tl-d22757e9855','pp-d22757e607');">login-config</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9858" class="tooltip" onclick="return tlClick('tl-d22757e9858','pp-d22757e609');" onmouseover="return tlOver('tl-d22757e9858','pp-d22757e609');" onmouseout="return tlOut('tl-d22757e9858','pp-d22757e609');">auth-method</a>&gt;</span>BASIC<span class="tag">&lt;/<a href="#" id="tl-d22757e9861" class="tooltip" onclick="return tlClick('tl-d22757e9861','pp-d22757e609');" onmouseover="return tlOver('tl-d22757e9861','pp-d22757e609');" onmouseout="return tlOut('tl-d22757e9861','pp-d22757e609');">auth-method</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9863" class="tooltip" onclick="return tlClick('tl-d22757e9863','pp-d22757e611');" onmouseover="return tlOver('tl-d22757e9863','pp-d22757e611');" onmouseout="return tlOut('tl-d22757e9863','pp-d22757e611');">realm-name</a>&gt;</span>My Realm<span class="tag">&lt;/<a href="#" id="tl-d22757e9866" class="tooltip" onclick="return tlClick('tl-d22757e9866','pp-d22757e611');" onmouseover="return tlOver('tl-d22757e9866','pp-d22757e611');" onmouseout="return tlOut('tl-d22757e9866','pp-d22757e611');">realm-name</a>&gt;</span>       <span class="cmt">&lt;!-- shown to the user --&gt;</span>
<span class="tag">&lt;/<a href="#" id="tl-d22757e9872" class="tooltip" onclick="return tlClick('tl-d22757e9872','pp-d22757e607');" onmouseover="return tlOver('tl-d22757e9872','pp-d22757e607');" onmouseout="return tlOut('tl-d22757e9872','pp-d22757e607');">login-config</a>&gt;</span>
				 </pre><h4 class="subSecMiniHeadline">Digest Authentication</h4><p class="subSecExplanation"><span class="idf">DIGEST</span> authentication is optional and not supported by older browsers, but more secure than <span class="idf">BASIC:</span></p><pre class="subSecConfig"><span class="tag">&lt;<a href="#" id="tl-d22757e9887" class="tooltip" onclick="return tlClick('tl-d22757e9887','pp-d22757e607');" onmouseover="return tlOver('tl-d22757e9887','pp-d22757e607');" onmouseout="return tlOut('tl-d22757e9887','pp-d22757e607');">login-config</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9890" class="tooltip" onclick="return tlClick('tl-d22757e9890','pp-d22757e609');" onmouseover="return tlOver('tl-d22757e9890','pp-d22757e609');" onmouseout="return tlOut('tl-d22757e9890','pp-d22757e609');">auth-method</a>&gt;</span>DIGEST<span class="tag">&lt;/<a href="#" id="tl-d22757e9893" class="tooltip" onclick="return tlClick('tl-d22757e9893','pp-d22757e609');" onmouseover="return tlOver('tl-d22757e9893','pp-d22757e609');" onmouseout="return tlOut('tl-d22757e9893','pp-d22757e609');">auth-method</a>&gt;</span>
<span class="tag">&lt;/<a href="#" id="tl-d22757e9895" class="tooltip" onclick="return tlClick('tl-d22757e9895','pp-d22757e607');" onmouseover="return tlOver('tl-d22757e9895','pp-d22757e607');" onmouseout="return tlOut('tl-d22757e9895','pp-d22757e607');">login-config</a>&gt;</span>
</pre><h4 class="subSecMiniHeadline">Form-based Authentication</h4><p class="subSecExplanation">For <span class="idf">FORM</span> authentication you need to create two pages containing the actual authentication screens:</p><pre class="subSecConfig"><span class="tag">&lt;<a href="#" id="tl-d22757e9908" class="tooltip" onclick="return tlClick('tl-d22757e9908','pp-d22757e607');" onmouseover="return tlOver('tl-d22757e9908','pp-d22757e607');" onmouseout="return tlOut('tl-d22757e9908','pp-d22757e607');">login-config</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9911" class="tooltip" onclick="return tlClick('tl-d22757e9911','pp-d22757e609');" onmouseover="return tlOver('tl-d22757e9911','pp-d22757e609');" onmouseout="return tlOut('tl-d22757e9911','pp-d22757e609');">auth-method</a>&gt;</span>FORM<span class="tag">&lt;/<a href="#" id="tl-d22757e9914" class="tooltip" onclick="return tlClick('tl-d22757e9914','pp-d22757e609');" onmouseover="return tlOver('tl-d22757e9914','pp-d22757e609');" onmouseout="return tlOut('tl-d22757e9914','pp-d22757e609');">auth-method</a>&gt;</span>

    <span class="tag">&lt;<a href="#" id="tl-d22757e9916" class="tooltip" onclick="return tlClick('tl-d22757e9916','pp-d22757e613');" onmouseover="return tlOver('tl-d22757e9916','pp-d22757e613');" onmouseout="return tlOut('tl-d22757e9916','pp-d22757e613');">form-login-config</a>&gt;</span>
        <span class="tag">&lt;<a href="#" id="tl-d22757e9919" class="tooltip" onclick="return tlClick('tl-d22757e9919','pp-d22757e618');" onmouseover="return tlOver('tl-d22757e9919','pp-d22757e618');" onmouseout="return tlOut('tl-d22757e9919','pp-d22757e618');">form-login-page</a>&gt;</span>/login.jsp<span class="tag">&lt;/<a href="#" id="tl-d22757e9922" class="tooltip" onclick="return tlClick('tl-d22757e9922','pp-d22757e618');" onmouseover="return tlOver('tl-d22757e9922','pp-d22757e618');" onmouseout="return tlOut('tl-d22757e9922','pp-d22757e618');">form-login-page</a>&gt;</span>           <span class="cmt">&lt;!-- login form --&gt;</span>
        <span class="tag">&lt;<a href="#" id="tl-d22757e9928" class="tooltip" onclick="return tlClick('tl-d22757e9928','pp-d22757e620');" onmouseover="return tlOver('tl-d22757e9928','pp-d22757e620');" onmouseout="return tlOut('tl-d22757e9928','pp-d22757e620');">form-error-page</a>&gt;</span>/login-error.html<span class="tag">&lt;/<a href="#" id="tl-d22757e9931" class="tooltip" onclick="return tlClick('tl-d22757e9931','pp-d22757e620');" onmouseover="return tlOver('tl-d22757e9931','pp-d22757e620');" onmouseout="return tlOut('tl-d22757e9931','pp-d22757e620');">form-error-page</a>&gt;</span>    <span class="cmt">&lt;!-- error page --&gt;</span>
    <span class="tag">&lt;/<a href="#" id="tl-d22757e9936" class="tooltip" onclick="return tlClick('tl-d22757e9936','pp-d22757e613');" onmouseover="return tlOver('tl-d22757e9936','pp-d22757e613');" onmouseout="return tlOut('tl-d22757e9936','pp-d22757e613');">form-login-config</a>&gt;</span>
<span class="tag">&lt;/<a href="#" id="tl-d22757e9938" class="tooltip" onclick="return tlClick('tl-d22757e9938','pp-d22757e607');" onmouseover="return tlOver('tl-d22757e9938','pp-d22757e607');" onmouseout="return tlOut('tl-d22757e9938','pp-d22757e607');">login-config</a>&gt;</span>
				 </pre><p class="subSecExplanation"> The login page <em>must have a HTML form</em> using the POST method, with a form action 'j_security_check' and two fields 'j_username' and 'j_password'. The form looks like this: </p><pre class="subSecConfig">&lt;form method="POST" action="j_security_check"&gt;
    &lt;input type="text" name="j_username" /&gt;
    &lt;input type="password" name="j_password" /&gt;
&lt;/form&gt;				 </pre><p class="subSecExplanation"/><h4 class="subSecMiniHeadline">SSL Client Authentication</h4><p class="subSecExplanation">To require authentication with a SSL client certificate, add this in your <span class="idf">web.xml</span> deployment descriptor:</p><pre class="subSecConfig"><span class="tag">&lt;<a href="#" id="tl-d22757e9963" class="tooltip" onclick="return tlClick('tl-d22757e9963','pp-d22757e607');" onmouseover="return tlOver('tl-d22757e9963','pp-d22757e607');" onmouseout="return tlOut('tl-d22757e9963','pp-d22757e607');">login-config</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9966" class="tooltip" onclick="return tlClick('tl-d22757e9966','pp-d22757e609');" onmouseover="return tlOver('tl-d22757e9966','pp-d22757e609');" onmouseout="return tlOut('tl-d22757e9966','pp-d22757e609');">auth-method</a>&gt;</span>CLIENT-CERT<span class="tag">&lt;/<a href="#" id="tl-d22757e9969" class="tooltip" onclick="return tlClick('tl-d22757e9969','pp-d22757e609');" onmouseover="return tlOver('tl-d22757e9969','pp-d22757e609');" onmouseout="return tlOut('tl-d22757e9969','pp-d22757e609');">auth-method</a>&gt;</span>
<span class="tag">&lt;/<a href="#" id="tl-d22757e9971" class="tooltip" onclick="return tlClick('tl-d22757e9971','pp-d22757e607');" onmouseover="return tlOver('tl-d22757e9971','pp-d22757e607');" onmouseout="return tlOut('tl-d22757e9971','pp-d22757e607');">login-config</a>&gt;</span>	 
</pre><p class="subSecExplanation">When a client authenticated itself with a SSL client certificate, you can retrieve the certificate chain from the <a href="attributes.xhtml#attributes">request attribute</a> <span class="idf">javax.servlet.request.X509Certificate</span>. It contains an array of <a href="http://java.sun.com/javase/6/docs/api/javax/security/cert/X509Certificate.html" class="javadoc">java.security.cert.X509Certificate</a> instances.</p></div></div><div class="yahbar"><div class="yahprev"><a href="filters.xhtml">Prev<br/><span>How to Write Filters</span></a></div><div class="yahhere"><a href="#" onclick="return navToggle();">Servlet 2.5 Guide / How to... Sessions and Security</a><br/><a href="/guide/servlet25/"><span>Single Page Mode</span></a>, <a href="#" onclick="return navToggle();"><span>Show Table of Content</span></a></div><div class="yahnext"><a href="declarativesecurity.xhtml">Next<br/><span>How to Restrict Access to a Web Application (Declarative Security)</span></a></div></div></div><div id="sidecolumn">
    	<div><h3>Useful Links</h3><div class="sidecolumnSubTitleLine"/>
	  			<a href="http://java.sun.com/products/servlet/">Servlet Homepage</a><br/>
	  			<a href="http://en.wikipedia.org/wiki/Java_Servlet">Servlet on Wikipedia</a><br/>
	  			<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/package-summary.html">javax.servlet API Docs</a><br/>
	  			<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/package-summary.html">javax.servlet.http API Docs</a><br/>
	  			<a href="http://jcp.org/aboutJava/communityprocess/mrel/jsr154/index2.html">Servlet 2.5 Specification</a><br/>
	  		</div>
  		
  		<div><h3>Related Documents</h3><div class="sidecolumnSubTitleLine">(on Jarfiller.com)</div>
	  			<a href="/reference/webxml2x/">Web.xml Reference</a><br/>
	  		</div>
  	
  </div></div></div><div id="footer"><div id="footer-content"><div id="footer-left"><div class="footerLine"><a href="/">Home</a> - <a href="/about">About Jarfiller</a> - <a href="/imprint.xhtml">Imprint</a></div><div class="footerLine">Please send feedback and corrections to <a href="mailto:tim@tjansen.de">tim@<span style="display: none">got you</span>tjansen.de</a>.</div><div class="footerLine"><a href="http://www.twitter.com/timjansen">Follow</a> me on Twitter.</div><div class="copyrightLine">Â© 2010 Tim Jansen; content licensed under <a href="http://creativecommons.org/licenses/by/3.0/us/">cc-by</a>; example source code is public domain
				</div></div><div id="footer-right"><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="../../images/ext/cc-by-88x31.png"/></a></div></div></div><div id="navbar" onclick="return navToggle();" onmouseover="document.getElementById('navbar').className='mouseover';" onmouseout="document.getElementById('navbar').className='';"/><div id="navcontainer"><div id="navlinks"><div id="navclosebar"><a href="#" onclick="return navClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="navpositionbar" class="navpositionbar"/><h2 id="navtitle">Servlet 2.5 Guide</h2><a id="nav_overview" class="navseclink" href="overview.xhtml#overview">Overview</a><a id="nav_intro" class="navsublink" href="overview.xhtml#intro">Intro</a><a id="nav_usecases" class="navsublink" href="overview.xhtml#usecases">When should you write a Servlet?</a><a id="nav_requirements" class="navsublink" href="overview.xhtml#requirements">What do you need for Servlets?</a><a id="nav_containers" class="navsublink" href="overview.xhtml#containers">Which container supports which Servlet / JEE version?</a><a id="nav_httpintro" class="navsublink" href="overview.xhtml#httpintro">Short HTTP Introduction</a><a id="nav_servlets" class="navseclink" href="servlets.xhtml#servlets">Servlets</a><a id="nav_servletintro" class="navsublink" href="servlets.xhtml#servletintro">Servlet Intro</a><a id="nav_classoverview" class="navsublink" href="servlets.xhtml#classoverview">Class Overview</a><a id="nav_servletclass" class="navsublink" href="servlets.xhtml#servletclass">Servlet Class</a><a id="nav_servicemethods" class="navsublink" href="servlets.xhtml#servicemethods">Service Dispatching in the HttpServlet</a><a id="nav_lifecycle" class="navsublink" href="servlets.xhtml#lifecycle">The Servlet Lifecycle</a><a id="nav_multithreading" class="navsublink" href="servlets.xhtml#multithreading">Multithreading</a><a id="nav_twothreadsafeways" class="navsublink" href="servlets.xhtml#twothreadsafeways">Two Simple Ways to Write Thread-Safe Servlets</a><a id="nav_webapplications" class="navsublink" href="servlets.xhtml#webapplications">Web Applications</a><a id="nav_webxml" class="navsublink" href="servlets.xhtml#webxml">web.xml</a><a id="nav_applayout" class="navsublink" href="servlets.xhtml#applayout">Example Application Layout</a><a id="nav_contextroot" class="navsublink" href="servlets.xhtml#contextroot">Context Root</a><a id="nav_staticcontent" class="navsublink" href="servlets.xhtml#staticcontent">Static Content</a><a id="nav_eclipse" class="navsublink" href="servlets.xhtml#eclipse">How to Create a Web Application with Eclipse</a><a id="nav_ant" class="navsublink" href="servlets.xhtml#ant">How to Create a Web Application (WAR) with Ant</a><a id="nav_tomcat" class="navsublink" href="servlets.xhtml#tomcat">How to Deploy a Web Application on Tomcat</a><a id="nav_responses" class="navseclink" href="responses.xhtml#responses">Responses</a><a id="nav_textoutput" class="navsublink" href="responses.xhtml#textoutput">Text Output</a><a id="nav_responsebinary" class="navsublink" href="responses.xhtml#responsebinary">Binary Output</a><a id="nav_buffering" class="navsublink" href="responses.xhtml#buffering">Buffering and Committing</a><a id="nav_errors" class="navsublink" href="responses.xhtml#errors">Error Code</a><a id="nav_redirection" class="navsublink" href="responses.xhtml#redirection">Redirection</a><a id="nav_requests" class="navseclink" href="requests.xhtml#requests">Requests</a><a id="nav_reqparameters" class="navsublink" href="requests.xhtml#reqparameters">Request Parameters</a><a id="nav_parameternames" class="navsublink" href="requests.xhtml#parameternames">How to find out which parameters have been sent</a><a id="nav_headers" class="navsublink" href="requests.xhtml#headers">How to read header values</a><a id="nav_paths" class="navsublink" href="requests.xhtml#paths">Paths</a><a id="nav_sessionsandcookies" class="navseclink" href="sessionsandcookies.xhtml#sessionsandcookies">Sessions and Cookies</a><a id="nav_cookies" class="navsublink" href="sessionsandcookies.xhtml#cookies">Cookies</a><a id="nav_sessions" class="navsublink" href="sessionsandcookies.xhtml#sessions">Sessions</a><a id="nav_distributablesessions" class="navsublink" href="sessionsandcookies.xhtml#distributablesessions">Sessions in Distributed Servers (Clusters)</a><a id="nav_sessioncaveat" class="navsublink" href="sessionsandcookies.xhtml#sessioncaveat">Be Careful When Using HttpSession</a><a id="nav_resources" class="navseclink" href="resources.xhtml#resources">Resources</a><a id="nav_resourceannotations" class="navsublink" href="resources.xhtml#resourceannotations">Resource Annotations</a><a id="nav_jndilookup" class="navsublink" href="resources.xhtml#jndilookup">How to get resources with JNDI</a><a id="nav_tomcatresources" class="navsublink" href="resources.xhtml#tomcatresources">How to Provide Resources in Tomcat</a><span class="navseclink">How to... Requests and Responses</span><a id="nav_customheaders" class="navsublink" href="customheaders.xhtml#customheaders">How to Read and Write Additional Headers</a><a id="nav_attributes" class="navsublink" href="attributes.xhtml#attributes">How to Use Attributes in Request and Context</a><a id="nav_getlastmodified" class="navsublink" href="getlastmodified.xhtml#getlastmodified">How to Use HttpServlet.getLastModified to Improve Client-Side Caching</a><a id="nav_contentlength" class="navsublink" href="contentlength.xhtml#contentlength">How to Set the Content Length</a><a id="nav_fileupload" class="navsublink" href="fileupload.xhtml#fileupload">How to Receive File Uploads (Multi-Part File Upload)</a><a id="nav_browserdetection" class="navsublink" href="browserdetection.xhtml#browserdetection">How to Detect the User's Web Browser</a><a id="nav_contentlanguage" class="navsublink" href="contentlanguage.xhtml#contentlanguage">How to Declare the Content Language</a><a id="nav_acceptedlanguages" class="navsublink" href="acceptedlanguages.xhtml#acceptedlanguages">How to Detect the Client's Preferred Languages</a><a id="nav_sendingxml" class="navsublink" href="sendingxml.xhtml#sendingxml">How to Send XML as Response</a><a id="nav_dynamicimages" class="navsublink" href="dynamicimages.xhtml#dynamicimages">How to Generate Images as Response</a><a id="nav_jspforward" class="navsublink" href="jspforward.xhtml#jspforward">How to Use a JSP as Template</a><a id="nav_requestdispatcher" class="navsublink" href="requestdispatcher.xhtml#requestdispatcher">How to Invoke Servlets and JSPs with the RequestDispatcher</a><a id="nav_virtualhosts" class="navsublink" href="virtualhosts.xhtml#virtualhosts">How to Handle Virtual Hosts and Multiple IP Addresses?</a><a id="nav_filters" class="navsublink" href="filters.xhtml#filters">How to Write Filters</a><span class="navseclink">How to... Sessions and Security</span><a id="nav_usermanagement" class="navsublink" href="usermanagement.xhtml#usermanagement">How to Authenticate and Manage Users</a><a id="nav_declarativesecurity" class="navsublink" href="declarativesecurity.xhtml#declarativesecurity">How to Restrict Access to a Web Application (Declarative Security)</a><a id="nav_requiringssl" class="navsublink" href="requiringssl.xhtml#requiringssl">How to Require HTTPS / SSL</a><a id="nav_programmaticsecurity" class="navsublink" href="programmaticsecurity.xhtml#programmaticsecurity">How to Use Authentication Data in Servlets</a><a id="nav_cookielessessions" class="navsublink" href="cookielessessions.xhtml#cookielessessions">How to Use HttpSessions and Authentication without Cookies?</a><span class="navseclink">How to... General</span><a id="nav_addinglibraries" class="navsublink" href="addinglibraries.xhtml#addinglibraries">How to Add Libraries to a Web Application / WAR</a><a id="nav_addingresourcefiles" class="navsublink" href="addingresourcefiles.xhtml#addingresourcefiles">How to Read Files Contained in a Web Application / WAR</a><a id="nav_throwingexceptions" class="navsublink" href="throwingexceptions.xhtml#throwingexceptions">How to Throw Exceptions in Servlets</a><a id="nav_initparameters" class="navsublink" href="initparameters.xhtml#initparameters">Configure your Servlet with Initialization Parameters</a><a id="nav_logging" class="navsublink" href="logging.xhtml#logging">How to Log</a><a id="nav_errorpages" class="navsublink" href="errorpages.xhtml#errorpages">How to Replace the Default Error Page</a><a id="nav_temporarydirectory" class="navsublink" href="temporarydirectory.xhtml#temporarydirectory">How to Get a Temporary Directory</a><a id="nav_ejbinvocation" class="navsublink" href="ejbinvocation.xhtml#ejbinvocation">How to Access an EJB</a><a id="nav_distributedapps" class="navsublink" href="distributedapps.xhtml#distributedapps">How to Create a Distributed Application</a><a id="nav_listeners" class="navsublink" href="listeners.xhtml#listeners">How to Be Notified about Events (Listeners)</a><a id="nav_servlet24" class="navsublink" href="servlet24.xhtml#servlet24">New Features Since Servlet API 2.4</a><a id="nav_andnow" class="navseclink" href="andnow.xhtml#andnow">And now...?</a><a id="nav_nextsteps" class="navsublink" href="andnow.xhtml#nextsteps">Next Steps</a></div></div><div id="popups"><div id="pp-d22757e9704" class="tooltip">For a consumer-oriented site it lacks features like letting user create their own accounts, change password by email, remembering the user's identity and many more. For a corporate application this is not important, since generally new users are only created by administrators. Also, most containers support authentification via external databases or LDAP directories, which is perfect in a corporate setting.</div><div id="pp-d22757e9751" class="tooltip">The container may either store users in a private file or database (and bring its own tools for user management), or is able to access an external source for authentication data, such as a database or LDAP directory</div><div id="pp-d22757e9729" class="tooltip">This form of authentication requires that the user installs a SSL certificate into the client/browser. The certificate may either be obtained from a well-known certificate authority, or created by the owner of the server. In any case, it is a very secure but also cumbersome way of authentication that's not practical for most end-users. It may be useful in a corporate setting though.</div><div id="pp-d22757e9737" class="tooltip">The built-in form authentication only allows you to specify a HTML page with two fields for username and password. Users are then tracked using <span class="idf">HttpSession</span>s.<br/> Form-based authentication lacks basic features expected from a consumer-oriented site, such as being able to retrieve the password by mail or a 'keep me signed in' function. </div><div id="pp-d22757e330" class="tooltip">A description of the surrounding element which may be shown by a tool. Can be repeated with different <span class="idf">xml-lang</span> attributes in order to provide descriptions in several languages. Optional.</div><div id="pp-d22757e607" class="tooltip">Specifies how users login. Optional. </div><div id="pp-d22757e609" class="tooltip">Specifies the authentication method: "BASIC" (standard HTTP authentication, with the browser's dialog), "DIGEST" (like BASIC, more secure, but problems with older browsers), "FORM" (you specify a HTML login page) and CLIENT-CERT (SSL client authentication, secure but complicated). Optional.</div><div id="pp-d22757e611" class="tooltip">The "realm" to show the user for Basic Authentication. Optional.</div><div id="pp-d22757e613" class="tooltip">Configuration for the FORM <span class="idf">&lt;auth-method&gt;</span>. Optional.</div><div id="pp-d22757e618" class="tooltip">Path of the login page for FORM authentication, starting with "/" and relative to the web application / WAR root. The page must contain a POST form with action "j_security_check" and two fields "j_username" and "j_password". Required.</div><div id="pp-d22757e620" class="tooltip">Path to the error page for FORM authentication, starting with "/" and relative to the web application / WAR root. It will be shown when the authentication failed. Required.</div><div id="pp-d22757e622" class="tooltip">Specifies one security role which can be referred to by a <span class="idf">&lt;security-constraint&gt;</span> or <span class="idf">&lt;servlet&gt;</span>. All further configuration of the role, such as which users are in that role, must be done in the web container. Repeat to define several roles. Optional, more than one allowed.</div><div id="pp-d22757e630" class="tooltip">The name of the role to define. Must follow NMTOKEN rules (in short: only alphanumeric characters, '.', '-' and '_', <em>no spaces</em>). Referred to by <span class="idf">&lt;security-constraint&gt;</span> or <span class="idf">&lt;servlet&gt;</span>. You need to define the role in the web container as well. Required.</div><div id="ttCloseBar" class="closeBar"><a href="#" onclick="return tlClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="topicCloseBar" class="closeBar"><a href="#" onclick="return tpcClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div></div></body></html>