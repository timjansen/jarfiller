<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:page="http://tjansen.de/refPage" xmlns:i="http://tjansen.de/internal"><head><title>How to Write Filters - Servlet 2.5 Guide</title><meta http-equiv="X-UA-Compatible" content="chrome=1"/><meta http-equiv="content-language" content="en"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="stylesheet" type="text/css" href="../../style/style.css"/><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-6791190-2']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
})();
</script><script type="text/javascript" src="../../js/all.js"/></head><body id="body"><div id="visibleContent"><div id="top"><a href="/"><img src="../../images/titlebar.png" alt="Jarfiller.com"/></a></div><div id="main"><div id="bodycolumn"><div class="yahbar"><div class="yahprev"><a href="virtualhosts.xhtml">Prev</a></div><h3 class="yahhere"><a href="#" onclick="return navToggle();">Servlet 2.5 Guide / How to... Requests and Responses</a></h3><div class="yahnext"><a href="usermanagement.xhtml">Next</a></div></div><h1 id="sec_howtorequestresponses" class="multipageTitle">How to Write Filters</h1><div class="subSecRow2" id="sec_filters"><div class="subSecHead" id="sechd_filters"><a name="filters">Filters</a></div><div class="subSecContent" id="seccnt_filters"><p class="subSecExplanation">By writing a <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/Filter.html" class="javadoc">Filter</a> class you can <em>analyze and modify a <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html" class="javadoc">ServletRequest</a></em> before it is processed by the container's regular dispatcher, and then <em>analyze and modify the resulting <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html" class="javadoc">ServletResponse</a></em>. Filters can be chained, meaning the request and response may run through several filters before being processed by the original handler (which may be a servlet, JSP or the container's handler for static content). <br/> The following filter writes all request parameters to the log: </p><pre class="subSecCode"><code>package com.jarfiller.example;
import <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/package-summary.html" class="javadoc">javax.servlet.*</a>;
import <a href="http://java.sun.com/javase/6/docs/api/java/io/package-summary.html" class="javadoc">java.io.*</a>;
import <a href="http://java.sun.com/javase/6/docs/api/java/util/package-summary.html" class="javadoc">java.util.*</a>;

<span class="cmt">// Logs parameters of every request</span>
public class LoggingFilter implements <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/Filter.html" class="javadoc">Filter</a> {
    private <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletContext.html" class="javadoc">ServletContext</a> ctx;

    public void <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/Filter.html#init(javax.servlet.FilterConfig)" class="javadoc">init</a>(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/FilterConfig.html" class="javadoc">FilterConfig</a> config) {
        ctx = config.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/FilterConfig.html#getServletContext()" class="javadoc">getServletContext</a>();
        ctx.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletContext.html#log(java.lang.String)" class="javadoc">log</a>("LoggingFilter started");
    }

    public void <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/Filter.html#doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain)" class="javadoc">doFilter</a>(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html" class="javadoc">ServletRequest</a> request, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html" class="javadoc">ServletResponse</a> response, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/FilterChain.html" class="javadoc">FilterChain</a> chain) 
        throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html" class="javadoc">IOException</a>, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletException.html" class="javadoc">ServletException</a> {

        for (String name: <a href="http://java.sun.com/javase/6/docs/api/java/util/Collections.html#list(java.util.Enumeration)" class="javadoc">Collections.list</a>((<a href="http://java.sun.com/javase/6/docs/api/java/util/Enumeration.html" class="javadoc">Enumeration</a>&lt;String&gt;)request.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html#getParameterNames()" class="javadoc">getParameterNames</a>()))
            ctx.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletContext.html#log(java.lang.String)" class="javadoc">log</a>(String.<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html#format(java.lang.String, java.lang.Object...)" class="javadoc">format</a>("%s=%s", name, request.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html#getParameter(java.lang.String)" class="javadoc">getParameter</a>(name)));

        chain.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/FilterChain.html#doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse)" class="javadoc"><em>doFilter</em></a>(request, response);  <span class="cmt">// <em>important!</em> invoke the dispatcher (<a href="#" id="tl-d22757e9264" class="dottedTooltip" onclick="return tlClick('tl-d22757e9264','pp-d22757e9264');" onmouseover="return tlOver('tl-d22757e9264','pp-d22757e9264');" onmouseout="return tlOut('tl-d22757e9264','pp-d22757e9264');">more</a>)</span>
    }

    public void <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/Filter.html#destroy()" class="javadoc">destroy</a>() {
        ctx.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletContext.html#log(java.lang.String)" class="javadoc">log</a>("LoggingFilter will destroyed now");
    }
}
</code></pre><p class="subSecExplanation">The filter's <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/Filter.html#doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain)" class="javadoc">doFilter</a> method is invoked for every filtered request. It allows the filter to manipulate the request and response before either the original handler or the next filter in the chain is being invoked explicitly via <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/FilterChain.html" class="javadoc">FilterChain</a>.</p><p class="subSecExplanation">Like servlets, filters need to be <em>declared and mapped in your <span class="idf">web.xml</span></em>:</p><pre class="subSecConfig"><span class="tag">&lt;<a href="#" id="tl-d22757e9316" class="tooltip" onclick="return tlClick('tl-d22757e9316','pp-d22757e358');" onmouseover="return tlOver('tl-d22757e9316','pp-d22757e358');" onmouseout="return tlOut('tl-d22757e9316','pp-d22757e358');">filter</a>&gt;</span>                                  <span class="cmt">&lt;!-- <em>declares the <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/Filter.html" class="javadoc">Filter</a> class</em> --&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9326" class="tooltip" onclick="return tlClick('tl-d22757e9326','pp-d22757e370');" onmouseover="return tlOver('tl-d22757e9326','pp-d22757e370');" onmouseout="return tlOut('tl-d22757e9326','pp-d22757e370');">filter-name</a>&gt;</span><em>logfilter</em><span class="tag">&lt;/<a href="#" id="tl-d22757e9330" class="tooltip" onclick="return tlClick('tl-d22757e9330','pp-d22757e370');" onmouseover="return tlOver('tl-d22757e9330','pp-d22757e370');" onmouseout="return tlOut('tl-d22757e9330','pp-d22757e370');">filter-name</a>&gt;</span>  <span class="cmt">&lt;!-- name must be unique --&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9335" class="tooltip" onclick="return tlClick('tl-d22757e9335','pp-d22757e375');" onmouseover="return tlOver('tl-d22757e9335','pp-d22757e375');" onmouseout="return tlOut('tl-d22757e9335','pp-d22757e375');">filter-class</a>&gt;</span>com.jarfiller.example.LoggingFilter<span class="tag">&lt;/<a href="#" id="tl-d22757e9339" class="tooltip" onclick="return tlClick('tl-d22757e9339','pp-d22757e375');" onmouseover="return tlOver('tl-d22757e9339','pp-d22757e375');" onmouseout="return tlOut('tl-d22757e9339','pp-d22757e375');">filter-class</a>&gt;</span>
<span class="tag">&lt;/<a href="#" id="tl-d22757e9341" class="tooltip" onclick="return tlClick('tl-d22757e9341','pp-d22757e358');" onmouseover="return tlOver('tl-d22757e9341','pp-d22757e358');" onmouseout="return tlOut('tl-d22757e9341','pp-d22757e358');">filter</a>&gt;</span>


<span class="tag">&lt;<a href="#" id="tl-d22757e9343" class="tooltip" onclick="return tlClick('tl-d22757e9343','pp-d22757e396');" onmouseover="return tlOver('tl-d22757e9343','pp-d22757e396');" onmouseout="return tlOut('tl-d22757e9343','pp-d22757e396');">filter-mapping</a>&gt;</span>                          <span class="cmt">&lt;!-- <em>maps the LoggingFilter</em> --&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9350" class="tooltip" onclick="return tlClick('tl-d22757e9350','pp-d22757e401');" onmouseover="return tlOver('tl-d22757e9350','pp-d22757e401');" onmouseout="return tlOut('tl-d22757e9350','pp-d22757e401');">filter-name</a>&gt;</span><em>logfilter</em><span class="tag">&lt;/<a href="#" id="tl-d22757e9354" class="tooltip" onclick="return tlClick('tl-d22757e9354','pp-d22757e401');" onmouseover="return tlOver('tl-d22757e9354','pp-d22757e401');" onmouseout="return tlOut('tl-d22757e9354','pp-d22757e401');">filter-name</a>&gt;</span>  <span class="cmt">&lt;!-- must be the same as filter-name above --&gt;</span>
    
    <span class="tag">&lt;<a href="#" id="tl-d22757e9360" class="tooltip" onclick="return tlClick('tl-d22757e9360','pp-d22757e290');" onmouseover="return tlOver('tl-d22757e9360','pp-d22757e290');" onmouseout="return tlOut('tl-d22757e9360','pp-d22757e290');">url-pattern</a>&gt;</span>*.jsp<span class="tag">&lt;/<a href="#" id="tl-d22757e9363" class="tooltip" onclick="return tlClick('tl-d22757e9363','pp-d22757e290');" onmouseover="return tlOver('tl-d22757e9363','pp-d22757e290');" onmouseout="return tlOut('tl-d22757e9363','pp-d22757e290');">url-pattern</a>&gt;</span>      <span class="cmt">&lt;!-- match all JSPs,  --&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9368" class="tooltip" onclick="return tlClick('tl-d22757e9368','pp-d22757e290');" onmouseover="return tlOver('tl-d22757e9368','pp-d22757e290');" onmouseout="return tlOut('tl-d22757e9368','pp-d22757e290');">url-pattern</a>&gt;</span>/work/*<span class="tag">&lt;/<a href="#" id="tl-d22757e9371" class="tooltip" onclick="return tlClick('tl-d22757e9371','pp-d22757e290');" onmouseover="return tlOver('tl-d22757e9371','pp-d22757e290');" onmouseout="return tlOut('tl-d22757e9371','pp-d22757e290');">url-pattern</a>&gt;</span>    <span class="cmt">&lt;!-- plus everything in /work,  --&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9377" class="tooltip" onclick="return tlClick('tl-d22757e9377','pp-d22757e298');" onmouseover="return tlOver('tl-d22757e9377','pp-d22757e298');" onmouseout="return tlOut('tl-d22757e9377','pp-d22757e298');">servlet-name</a>&gt;</span>counter<span class="tag">&lt;/<a href="#" id="tl-d22757e9380" class="tooltip" onclick="return tlClick('tl-d22757e9380','pp-d22757e298');" onmouseover="return tlOver('tl-d22757e9380','pp-d22757e298');" onmouseout="return tlOut('tl-d22757e9380','pp-d22757e298');">servlet-name</a>&gt;</span>  <span class="cmt">&lt;!-- plus the 'counter' servlet --&gt;</span>
    
    <span class="tag">&lt;<a href="#" id="tl-d22757e9385" class="tooltip" onclick="return tlClick('tl-d22757e9385','pp-d22757e409');" onmouseover="return tlOver('tl-d22757e9385','pp-d22757e409');" onmouseout="return tlOut('tl-d22757e9385','pp-d22757e409');">dispatcher</a>&gt;</span>REQUEST<span class="tag">&lt;/<a href="#" id="tl-d22757e9388" class="tooltip" onclick="return tlClick('tl-d22757e9388','pp-d22757e409');" onmouseover="return tlOver('tl-d22757e9388','pp-d22757e409');" onmouseout="return tlOut('tl-d22757e9388','pp-d22757e409');">dispatcher</a>&gt;</span>      <span class="cmt">&lt;!-- filter regular requests (default if omitted), --&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9394" class="tooltip" onclick="return tlClick('tl-d22757e9394','pp-d22757e409');" onmouseover="return tlOver('tl-d22757e9394','pp-d22757e409');" onmouseout="return tlOut('tl-d22757e9394','pp-d22757e409');">dispatcher</a>&gt;</span>FORWARD<span class="tag">&lt;/<a href="#" id="tl-d22757e9397" class="tooltip" onclick="return tlClick('tl-d22757e9397','pp-d22757e409');" onmouseover="return tlOver('tl-d22757e9397','pp-d22757e409');" onmouseout="return tlOut('tl-d22757e9397','pp-d22757e409');">dispatcher</a>&gt;</span>      <span class="cmt">&lt;!-- filter forwards, --&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9402" class="tooltip" onclick="return tlClick('tl-d22757e9402','pp-d22757e409');" onmouseover="return tlOver('tl-d22757e9402','pp-d22757e409');" onmouseout="return tlOut('tl-d22757e9402','pp-d22757e409');">dispatcher</a>&gt;</span>INCLUDE<span class="tag">&lt;/<a href="#" id="tl-d22757e9405" class="tooltip" onclick="return tlClick('tl-d22757e9405','pp-d22757e409');" onmouseover="return tlOver('tl-d22757e9405','pp-d22757e409');" onmouseout="return tlOut('tl-d22757e9405','pp-d22757e409');">dispatcher</a>&gt;</span>      <span class="cmt">&lt;!-- filter includes, --&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e9411" class="tooltip" onclick="return tlClick('tl-d22757e9411','pp-d22757e409');" onmouseover="return tlOver('tl-d22757e9411','pp-d22757e409');" onmouseout="return tlOut('tl-d22757e9411','pp-d22757e409');">dispatcher</a>&gt;</span>ERROR<span class="tag">&lt;/<a href="#" id="tl-d22757e9414" class="tooltip" onclick="return tlClick('tl-d22757e9414','pp-d22757e409');" onmouseover="return tlOver('tl-d22757e9414','pp-d22757e409');" onmouseout="return tlOut('tl-d22757e9414','pp-d22757e409');">dispatcher</a>&gt;</span>        <span class="cmt">&lt;!-- and filter errors --&gt;</span>
<span class="tag">&lt;/<a href="#" id="tl-d22757e9419" class="tooltip" onclick="return tlClick('tl-d22757e9419','pp-d22757e396');" onmouseover="return tlOver('tl-d22757e9419','pp-d22757e396');" onmouseout="return tlOut('tl-d22757e9419','pp-d22757e396');">filter-mapping</a>&gt;</span>
</pre><p class="subSecExplanation">If several filter mappings match a request, they will be <em>processed in the order of their declaration</em>. Mappings for URL patterns are always processed before servlet name mappings.</p><h4 class="subSecMiniHeadline">Request/Response Wrapping</h4><p class="subSecExplanation">You can modify the request passed down the filter chain as well as the generated response by <em>wrapping the request and response objects</em>. The API provides you with two <a href="#" id="tl-d22757e9437" class="dottedTooltip" onclick="return tlClick('tl-d22757e9437','pp-d22757e9440');" onmouseover="return tlOver('tl-d22757e9437','pp-d22757e9440');" onmouseout="return tlOut('tl-d22757e9437','pp-d22757e9440');">call-through wrappers</a>, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequestWrapper.html" class="javadoc">HttpServletRequestWrapper</a> and <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletResponseWrapper.html" class="javadoc">HttpServletResponseWrapper</a>, that you can extend. Note that even with those helper classes, <em>writing a wrapper can be quite complex</em>, especially if you want to modify the content body and thus also need to wrap the <a href="http://java.sun.com/javase/6/docs/api/java/io/InputStream.html" class="javadoc">InputStream</a> or <a href="http://java.sun.com/javase/6/docs/api/java/io/OutputStream.html" class="javadoc">OutputStream</a>.</p><p class="subSecExplanation">This example filter uses wrappers to remove all cookies from the request and also blocks any cookies the handler tries to set in the response:</p><pre class="subSecCode"><code>package com.jarfiller.example;
import <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/package-summary.html" class="javadoc">javax.servlet.http.*</a>;
import <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/package-summary.html" class="javadoc">javax.servlet.*</a>;
import <a href="http://java.sun.com/javase/6/docs/api/java/io/package-summary.html" class="javadoc">java.io.*</a>;

<span class="cmt">// Removes cookies from request and response</span>
public class CookieFilter implements <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/Filter.html" class="javadoc">Filter</a> {
    private <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletContext.html" class="javadoc">ServletContext</a> ctx;

    public void <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/Filter.html#init(javax.servlet.FilterConfig)" class="javadoc">init</a>(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/FilterConfig.html" class="javadoc">FilterConfig</a> config) {
    }

    public void <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/Filter.html#doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain)" class="javadoc">doFilter</a>(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html" class="javadoc">ServletRequest</a> request, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html" class="javadoc">ServletResponse</a> response, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/FilterChain.html" class="javadoc">FilterChain</a> chain) 
        throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html" class="javadoc">IOException</a>, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletException.html" class="javadoc">ServletException</a> {

        chain.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/FilterChain.html#doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse)" class="javadoc">doFilter</a>(new NonCookieRequest(request), new NonCookieResponse(response));
    }

    public void <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/Filter.html#destroy()" class="javadoc">destroy</a>() {
    }

    static class CookieRemovingServletRequest extends <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequestWrapper.html" class="javadoc">HttpServletRequestWrapper</a> {
        public CookieRemovingServletRequest(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html" class="javadoc">ServletRequest</a> request) {
            super((<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html" class="javadoc">HttpServletRequest</a>)request);
        }

        public <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/Cookie.html" class="javadoc">Cookie</a>[] <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getContextPath()" class="javadoc">getCookies</a>() {
            return null;  <span class="cmt">// no cookies visible</span>
        }
    }

    static class CookieRemovingServletResponse extends <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletResponseWrapper.html" class="javadoc">HttpServletResponseWrapper</a> {
        public CookieRemovingServletResponse(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html" class="javadoc">ServletResponse</a> response) {
            super((<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletResponse.html" class="javadoc">HttpServletResponse</a>)response);
        }

        public void <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletResponse.html#addCookie(javax.servlet.http.Cookie)" class="javadoc">addCookie</a>(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/Cookie.html" class="javadoc">Cookie</a> cookie) {
            <span class="cmt">// ignore!</span>
        }
    }
}
</code></pre><p class="subSecExplanation">Like <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/Servlet.html" class="javadoc">Servlet</a> implementations, <em>filter classes can use the <a href="http://java.sun.com/javaee/5/docs/api/javax/annotation/Resource.html" class="javadoc">@Resource</a> annotation</em>.</p></div></div><div class="yahbar"><div class="yahprev"><a href="virtualhosts.xhtml">Prev<br/><span>How to Handle Virtual Hosts and Multiple IP Addresses?</span></a></div><div class="yahhere"><a href="#" onclick="return navToggle();">Servlet 2.5 Guide / How to... Requests and Responses</a><br/><a href="/guide/servlet25/"><span>Single Page Mode</span></a>, <a href="#" onclick="return navToggle();"><span>Show Table of Content</span></a></div><div class="yahnext"><a href="usermanagement.xhtml">Next<br/><span>How to Authenticate and Manage Users</span></a></div></div></div><div id="sidecolumn">
    	<div><h3>Useful Links</h3><div class="sidecolumnSubTitleLine"/>
	  			<a href="http://java.sun.com/products/servlet/">Servlet Homepage</a><br/>
	  			<a href="http://en.wikipedia.org/wiki/Java_Servlet">Servlet on Wikipedia</a><br/>
	  			<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/package-summary.html">javax.servlet API Docs</a><br/>
	  			<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/package-summary.html">javax.servlet.http API Docs</a><br/>
	  			<a href="http://jcp.org/aboutJava/communityprocess/mrel/jsr154/index2.html">Servlet 2.5 Specification</a><br/>
	  		</div>
  		
  		<div><h3>Related Documents</h3><div class="sidecolumnSubTitleLine">(on Jarfiller.com)</div>
	  			<a href="/reference/webxml2x/">Web.xml Reference</a><br/>
	  		</div>
  	
  </div></div></div><div id="footer"><div id="footer-content"><div id="footer-left"><div class="footerLine"><a href="/">Home</a> - <a href="/about">About Jarfiller</a> - <a href="/imprint.xhtml">Imprint</a></div><div class="footerLine">Please send feedback and corrections to <a href="mailto:tim@tjansen.de">tim@<span style="display: none">got you</span>tjansen.de</a>.</div><div class="footerLine"><a href="http://www.twitter.com/timjansen">Follow</a> me on Twitter.</div><div class="copyrightLine">© 2010 Tim Jansen; content licensed under <a href="http://creativecommons.org/licenses/by/3.0/us/">cc-by</a>; example source code is public domain
				</div></div><div id="footer-right"><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="../../images/ext/cc-by-88x31.png"/></a></div></div></div><div id="navbar" onclick="return navToggle();" onmouseover="document.getElementById('navbar').className='mouseover';" onmouseout="document.getElementById('navbar').className='';"/><div id="navcontainer"><div id="navlinks"><div id="navclosebar"><a href="#" onclick="return navClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="navpositionbar" class="navpositionbar"/><h2 id="navtitle">Servlet 2.5 Guide</h2><a id="nav_overview" class="navseclink" href="overview.xhtml#overview">Overview</a><a id="nav_intro" class="navsublink" href="overview.xhtml#intro">Intro</a><a id="nav_usecases" class="navsublink" href="overview.xhtml#usecases">When should you write a Servlet?</a><a id="nav_requirements" class="navsublink" href="overview.xhtml#requirements">What do you need for Servlets?</a><a id="nav_containers" class="navsublink" href="overview.xhtml#containers">Which container supports which Servlet / JEE version?</a><a id="nav_httpintro" class="navsublink" href="overview.xhtml#httpintro">Short HTTP Introduction</a><a id="nav_servlets" class="navseclink" href="servlets.xhtml#servlets">Servlets</a><a id="nav_servletintro" class="navsublink" href="servlets.xhtml#servletintro">Servlet Intro</a><a id="nav_classoverview" class="navsublink" href="servlets.xhtml#classoverview">Class Overview</a><a id="nav_servletclass" class="navsublink" href="servlets.xhtml#servletclass">Servlet Class</a><a id="nav_servicemethods" class="navsublink" href="servlets.xhtml#servicemethods">Service Dispatching in the HttpServlet</a><a id="nav_lifecycle" class="navsublink" href="servlets.xhtml#lifecycle">The Servlet Lifecycle</a><a id="nav_multithreading" class="navsublink" href="servlets.xhtml#multithreading">Multithreading</a><a id="nav_twothreadsafeways" class="navsublink" href="servlets.xhtml#twothreadsafeways">Two Simple Ways to Write Thread-Safe Servlets</a><a id="nav_webapplications" class="navsublink" href="servlets.xhtml#webapplications">Web Applications</a><a id="nav_webxml" class="navsublink" href="servlets.xhtml#webxml">web.xml</a><a id="nav_applayout" class="navsublink" href="servlets.xhtml#applayout">Example Application Layout</a><a id="nav_contextroot" class="navsublink" href="servlets.xhtml#contextroot">Context Root</a><a id="nav_staticcontent" class="navsublink" href="servlets.xhtml#staticcontent">Static Content</a><a id="nav_eclipse" class="navsublink" href="servlets.xhtml#eclipse">How to Create a Web Application with Eclipse</a><a id="nav_ant" class="navsublink" href="servlets.xhtml#ant">How to Create a Web Application (WAR) with Ant</a><a id="nav_tomcat" class="navsublink" href="servlets.xhtml#tomcat">How to Deploy a Web Application on Tomcat</a><a id="nav_responses" class="navseclink" href="responses.xhtml#responses">Responses</a><a id="nav_textoutput" class="navsublink" href="responses.xhtml#textoutput">Text Output</a><a id="nav_responsebinary" class="navsublink" href="responses.xhtml#responsebinary">Binary Output</a><a id="nav_buffering" class="navsublink" href="responses.xhtml#buffering">Buffering and Committing</a><a id="nav_errors" class="navsublink" href="responses.xhtml#errors">Error Code</a><a id="nav_redirection" class="navsublink" href="responses.xhtml#redirection">Redirection</a><a id="nav_requests" class="navseclink" href="requests.xhtml#requests">Requests</a><a id="nav_reqparameters" class="navsublink" href="requests.xhtml#reqparameters">Request Parameters</a><a id="nav_parameternames" class="navsublink" href="requests.xhtml#parameternames">How to find out which parameters have been sent</a><a id="nav_headers" class="navsublink" href="requests.xhtml#headers">How to read header values</a><a id="nav_paths" class="navsublink" href="requests.xhtml#paths">Paths</a><a id="nav_sessionsandcookies" class="navseclink" href="sessionsandcookies.xhtml#sessionsandcookies">Sessions and Cookies</a><a id="nav_cookies" class="navsublink" href="sessionsandcookies.xhtml#cookies">Cookies</a><a id="nav_sessions" class="navsublink" href="sessionsandcookies.xhtml#sessions">Sessions</a><a id="nav_distributablesessions" class="navsublink" href="sessionsandcookies.xhtml#distributablesessions">Sessions in Distributed Servers (Clusters)</a><a id="nav_sessioncaveat" class="navsublink" href="sessionsandcookies.xhtml#sessioncaveat">Be Careful When Using HttpSession</a><a id="nav_resources" class="navseclink" href="resources.xhtml#resources">Resources</a><a id="nav_resourceannotations" class="navsublink" href="resources.xhtml#resourceannotations">Resource Annotations</a><a id="nav_jndilookup" class="navsublink" href="resources.xhtml#jndilookup">How to get resources with JNDI</a><a id="nav_tomcatresources" class="navsublink" href="resources.xhtml#tomcatresources">How to Provide Resources in Tomcat</a><span class="navseclink">How to... Requests and Responses</span><a id="nav_customheaders" class="navsublink" href="customheaders.xhtml#customheaders">How to Read and Write Additional Headers</a><a id="nav_attributes" class="navsublink" href="attributes.xhtml#attributes">How to Use Attributes in Request and Context</a><a id="nav_getlastmodified" class="navsublink" href="getlastmodified.xhtml#getlastmodified">How to Use HttpServlet.getLastModified to Improve Client-Side Caching</a><a id="nav_contentlength" class="navsublink" href="contentlength.xhtml#contentlength">How to Set the Content Length</a><a id="nav_fileupload" class="navsublink" href="fileupload.xhtml#fileupload">How to Receive File Uploads (Multi-Part File Upload)</a><a id="nav_browserdetection" class="navsublink" href="browserdetection.xhtml#browserdetection">How to Detect the User's Web Browser</a><a id="nav_contentlanguage" class="navsublink" href="contentlanguage.xhtml#contentlanguage">How to Declare the Content Language</a><a id="nav_acceptedlanguages" class="navsublink" href="acceptedlanguages.xhtml#acceptedlanguages">How to Detect the Client's Preferred Languages</a><a id="nav_sendingxml" class="navsublink" href="sendingxml.xhtml#sendingxml">How to Send XML as Response</a><a id="nav_dynamicimages" class="navsublink" href="dynamicimages.xhtml#dynamicimages">How to Generate Images as Response</a><a id="nav_jspforward" class="navsublink" href="jspforward.xhtml#jspforward">How to Use a JSP as Template</a><a id="nav_requestdispatcher" class="navsublink" href="requestdispatcher.xhtml#requestdispatcher">How to Invoke Servlets and JSPs with the RequestDispatcher</a><a id="nav_virtualhosts" class="navsublink" href="virtualhosts.xhtml#virtualhosts">How to Handle Virtual Hosts and Multiple IP Addresses?</a><a id="nav_filters" class="navsublink" href="filters.xhtml#filters">How to Write Filters</a><span class="navseclink">How to... Sessions and Security</span><a id="nav_usermanagement" class="navsublink" href="usermanagement.xhtml#usermanagement">How to Authenticate and Manage Users</a><a id="nav_declarativesecurity" class="navsublink" href="declarativesecurity.xhtml#declarativesecurity">How to Restrict Access to a Web Application (Declarative Security)</a><a id="nav_requiringssl" class="navsublink" href="requiringssl.xhtml#requiringssl">How to Require HTTPS / SSL</a><a id="nav_programmaticsecurity" class="navsublink" href="programmaticsecurity.xhtml#programmaticsecurity">How to Use Authentication Data in Servlets</a><a id="nav_cookielessessions" class="navsublink" href="cookielessessions.xhtml#cookielessessions">How to Use HttpSessions and Authentication without Cookies?</a><span class="navseclink">How to... General</span><a id="nav_addinglibraries" class="navsublink" href="addinglibraries.xhtml#addinglibraries">How to Add Libraries to a Web Application / WAR</a><a id="nav_addingresourcefiles" class="navsublink" href="addingresourcefiles.xhtml#addingresourcefiles">How to Read Files Contained in a Web Application / WAR</a><a id="nav_throwingexceptions" class="navsublink" href="throwingexceptions.xhtml#throwingexceptions">How to Throw Exceptions in Servlets</a><a id="nav_initparameters" class="navsublink" href="initparameters.xhtml#initparameters">Configure your Servlet with Initialization Parameters</a><a id="nav_logging" class="navsublink" href="logging.xhtml#logging">How to Log</a><a id="nav_errorpages" class="navsublink" href="errorpages.xhtml#errorpages">How to Replace the Default Error Page</a><a id="nav_temporarydirectory" class="navsublink" href="temporarydirectory.xhtml#temporarydirectory">How to Get a Temporary Directory</a><a id="nav_ejbinvocation" class="navsublink" href="ejbinvocation.xhtml#ejbinvocation">How to Access an EJB</a><a id="nav_distributedapps" class="navsublink" href="distributedapps.xhtml#distributedapps">How to Create a Distributed Application</a><a id="nav_listeners" class="navsublink" href="listeners.xhtml#listeners">How to Be Notified about Events (Listeners)</a><a id="nav_servlet24" class="navsublink" href="servlet24.xhtml#servlet24">New Features Since Servlet API 2.4</a><a id="nav_andnow" class="navseclink" href="andnow.xhtml#andnow">And now...?</a><a id="nav_nextsteps" class="navsublink" href="andnow.xhtml#nextsteps">Next Steps</a></div></div><div id="popups"><div id="pp-d22757e9264" class="tooltip">Calling <span class="idf">doFilter</span> on the <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/FilterChain.html" class="javadoc">FilterChain</a> is required to invoke either the next filter or the original handler of the request.</div><div id="pp-d22757e9440" class="tooltip">The wrappers provided by the API wrap the original object by passing all method invocations to the underlying object, without modifying the arguments, and return the original return value.</div><div id="pp-d22757e290" class="tooltip">Defines the URLs that the filter will respond to. A complete path, or "/path/*", "*.extension" or "/". Repeat to define several alternative patterns. Optional, more than one allowed. At least one <span class="idf">&lt;servlet-name&gt;</span> or <span class="idf">&lt;url-pattern&gt;</span> must be present.</div><div id="pp-d22757e298" class="tooltip">The name of a servlet to be filtered. Must match the <span class="idf">&lt;servlet-name&gt;</span> set in the <span class="idf">&lt;servlet&gt;</span> declaration. Use the special name "*" to match all requests. Repeat it to define several alternative patterns. Optional, more than one allowed. At least one <span class="idf">&lt;servlet-name&gt;</span> or <span class="idf">&lt;url-pattern&gt;</span> must be present.</div><div id="pp-d22757e358" class="tooltip">Declares a <span class="idf">Filter</span> that can process requests and/or responses in the web server. Does not specify when the filter will run - you need <span class="idf">&lt;filter-mapping&gt;</span> elements to declare the URL patterns for the filter. <br/> Optional, more than one allowed.</div><div id="pp-d22757e370" class="tooltip">The name of the filter. Must be non-empty and unique in the web application. Will be referenced by the <span class="idf">&lt;filter-mapping&gt;</span>. Required.</div><div id="pp-d22757e375" class="tooltip">Name of the class that implements the filter. The class must implement <span class="idf">javax.servlet.Filter</span>. Required.</div><div id="pp-d22757e396" class="tooltip">Specifies when the given <span class="idf">Filter</span> should be invoked. You can repeat this element to declare more mappings. If a request has more than one matching filter, they will be executed in the order of their declaration. URL pattern mappings will always be processed before servlet name mappings. Optional, more than one allowed.</div><div id="pp-d22757e401" class="tooltip">The name of the <span class="idf">&lt;filter&gt;</span> to map. Must match the <span class="idf">&lt;filter-name&gt;</span> declared there. Required.</div><div id="pp-d22757e409" class="tooltip">Up to four dispatchers for the filter. Describes what should be filtered. Possible: "REQUEST" (filter regular requests), "FORWARD" (filter forwards), "INCLUDE" (filter includes), "ERROR" (filter error pages). If omitted, default is "REQUEST" only. Optional, more than one allowed. </div><div id="pp-d22757e431" class="tooltip">The name of the servlet. Must be unique in the descriptor, and will be referenced by <span class="idf">&lt;servlet-mapping&gt;</span> elements. Required.</div><div id="ttCloseBar" class="closeBar"><a href="#" onclick="return tlClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="topicCloseBar" class="closeBar"><a href="#" onclick="return tpcClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div></div></body></html>