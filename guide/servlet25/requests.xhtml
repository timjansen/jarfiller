<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:page="http://tjansen.de/refPage" xmlns:i="http://tjansen.de/internal"><head><title>Requests - Servlet 2.5 Guide</title><meta http-equiv="X-UA-Compatible" content="chrome=1"/><meta http-equiv="content-language" content="en"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="stylesheet" type="text/css" href="../../style/style.css"/><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-6791190-2']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
})();
</script><script type="text/javascript" src="../../js/all.js"/></head><body id="body"><div id="visibleContent"><div id="top"><a href="/"><img src="../../images/titlebar.png" alt="Jarfiller.com"/></a></div><div id="main"><div id="bodycolumn"><div class="yahbar"><div class="yahprev"><a href="responses.xhtml">Prev</a></div><h3 class="yahhere"><a href="#" onclick="return navToggle();">Servlet 2.5 Guide / Requests</a></h3><div class="yahnext"><a href="sessionsandcookies.xhtml">Next</a></div></div><h1 id="sec_requests" class="multipageTitle"><a name="requests">Requests</a></h1><div class="subSecRow2" id="sec_reqparameters"><div class="subSecHead" id="sechd_reqparameters"><a name="reqparameters">Request Parameters</a><br/>(<a href="#" id="tl-d22757e4208" class="dottedTooltip" onclick="return tlClick('tl-d22757e4208','pp-d22757e4213');" onmouseover="return tlOver('tl-d22757e4208','pp-d22757e4213');" onmouseout="return tlOut('tl-d22757e4208','pp-d22757e4213');">more</a>)
		</div><div class="subSecContent" id="seccnt_reqparameters"><pre class="subSecCode"><code>import <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/package-summary.html" class="javadoc">javax.servlet.http.*</a>;
import <a href="http://java.sun.com/javase/6/docs/api/java/io/package-summary.html" class="javadoc">java.io.*</a>;

<span class="cmt">// Servlet that shows a simple form with two text fields, </span>
<span class="cmt">// allowing the user to enter numbers and showing their sum</span>
public class CalculatorServlet extends <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServlet.html" class="javadoc">HttpServlet</a> {

  <span class="cmt">// Prints the calculator HTML</span>
  private void printCalculator(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletResponse.html" class="javadoc">HttpServletResponse</a> response, Integer result) 
      throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html" class="javadoc">IOException</a> {

    response.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html#setContentType(java.lang.String)" class="javadoc">setContentType</a>("text/html; charset=UTF-8");  <span class="cmt">// HTML in UTF8</span>
    response.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html#setCharacterEncoding(java.lang.String)" class="javadoc">setCharacterEncoding</a>("UTF-8");

    <a href="http://java.sun.com/javase/6/docs/api/java/io/PrintWriter.html" class="javadoc">PrintWriter</a> writer = response.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html#getWriter()" class="javadoc">getWriter</a>();
    writer.<a href="http://java.sun.com/javase/6/docs/api/java/io/PrintWriter.html#print(java.lang.String)" class="javadoc">print</a>("&lt;html&gt;&lt;head&gt;&lt;title&gt;Calculator&lt;/title&gt;&lt;/head&gt;&lt;body&gt;");
    writer.<a href="http://java.sun.com/javase/6/docs/api/java/io/PrintWriter.html#print(java.lang.String)" class="javadoc">print</a>("&lt;form&gt;&lt;input <em>name='x'</em>&gt; + &lt;input <em>name='y'</em>&gt; &lt;input type='submit' value='='&gt; ");
    if (result != null)
      writer.<a href="http://java.sun.com/javase/6/docs/api/java/io/PrintWriter.html#print(java.lang.String)" class="javadoc">print</a>(result);
    writer.<a href="http://java.sun.com/javase/6/docs/api/java/io/PrintWriter.html#print(java.lang.String)" class="javadoc">print</a>("&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;");
  }

  <span class="cmt">// handles GET and POST (<a href="#" id="tl-d22757e4362" class="dottedTooltip" onclick="return tlClick('tl-d22757e4362','pp-d22757e4362');" onmouseover="return tlOver('tl-d22757e4362','pp-d22757e4362');" onmouseout="return tlOut('tl-d22757e4362','pp-d22757e4362');">more</a>)</span>
  private void doAll(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html" class="javadoc">HttpServletRequest</a> request, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletResponse.html" class="javadoc">HttpServletResponse</a> response)
      throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html" class="javadoc">IOException</a> {

    Integer result = null;
    String x = request.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html#getParameter(java.lang.String)" class="javadoc"><em>getParameter</em></a>("x");
    String y = request.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html#getParameter(java.lang.String)" class="javadoc"><em>getParameter</em></a>("y");

    <span class="cmt">// validation: check parameters are numeric (<a href="#" id="tl-d22757e4413" class="dottedTooltip" onclick="return tlClick('tl-d22757e4413','pp-d22757e4413');" onmouseover="return tlOver('tl-d22757e4413','pp-d22757e4413');" onmouseout="return tlOut('tl-d22757e4413','pp-d22757e4413');">more</a>)</span>
    if (x != null &amp;&amp; y != null &amp;&amp;
        x.<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html#matches(java.lang.String)" class="javadoc">matches</a>("[0-9]+") &amp;&amp; y.<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html#matches(java.lang.String)" class="javadoc">matches</a>("[0-9]+")) {

      result = Integer.parseInt(x) + Integer.parseInt(y);
    }

  protected void <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServlet.html#doGet(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)" class="javadoc">doGet</a>(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html" class="javadoc">HttpServletRequest</a> request, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletResponse.html" class="javadoc">HttpServletResponse</a> response)
      throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html" class="javadoc">IOException</a> {
    doAll(request, response);
  }
  protected void <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServlet.html#doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)" class="javadoc">doPost</a>(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html" class="javadoc">HttpServletRequest</a> request, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletResponse.html" class="javadoc">HttpServletResponse</a> response)
      throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html" class="javadoc">IOException</a> {
    doAll(request, response);
  }
}
</code></pre></div></div><div class="subSecRow1" id="sec_parameternames"><div class="subSecHead" id="sechd_parameternames"><a name="parameternames">Parameter Names</a></div><div class="subSecContent" id="seccnt_parameternames"><h2 class="subSecSummaryNoClick">How to find out which parameters have been sent</h2><p class="subSecExplanation">The Servlet API offers two ways of getting a list of all parameters. <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html#getParameterNames()" class="javadoc">getParameterNames</a> returns an <a href="#" id="tl-d22757e4514" class="dottedTooltip" onclick="return tlClick('tl-d22757e4514','pp-d22757e4518');" onmouseover="return tlOver('tl-d22757e4514','pp-d22757e4518');" onmouseout="return tlOut('tl-d22757e4514','pp-d22757e4518');">Enumeration</a><a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/.html" class="javadoc"/> of names. The alternative, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html#getParameterMap()" class="javadoc">getParameterMap</a>, returns a <a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html" class="javadoc">Map</a> of all parameter name/value pairs, but with one catch: the <em>value is a String array</em> (<a href="#" id="tl-d22757e4543" class="dottedTooltip" onclick="return tlClick('tl-d22757e4543','pp-d22757e4639');" onmouseover="return tlOver('tl-d22757e4543','pp-d22757e4639');" onmouseout="return tlOut('tl-d22757e4543','pp-d22757e4639');">more</a>).</p><p class="subSecExplanation">The following example uses <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html#getParameterMap()" class="javadoc">getParameterMap</a> to print all request parameters that it got:</p><pre class="subSecCode"><code>protected void <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServlet.html#doGet(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)" class="javadoc">doGet</a>(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html" class="javadoc">HttpServletRequest</a> request, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletResponse.html" class="javadoc">HttpServletResponse</a> response)
    throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html" class="javadoc">IOException</a> {

  response.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html#setContentType(java.lang.String)" class="javadoc">setContentType</a>("text/plain; charset=UTF-8");  <span class="cmt">// plain text (<a href="#" id="tl-d22757e4581" class="dottedTooltip" onclick="return tlClick('tl-d22757e4581','pp-d22757e4581');" onmouseover="return tlOver('tl-d22757e4581','pp-d22757e4581');" onmouseout="return tlOut('tl-d22757e4581','pp-d22757e4581');">more</a>)</span>
  response.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html#setCharacterEncoding(java.lang.String)" class="javadoc">setCharacterEncoding</a>("UTF-8");
  <a href="http://java.sun.com/javase/6/docs/api/java/io/PrintWriter.html" class="javadoc">PrintWriter</a> writer = response.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html#getWriter()" class="javadoc">getWriter</a>();

  <a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html" class="javadoc">Map</a>&lt;String, String[]&gt; params = (<a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html" class="javadoc">Map</a>&lt;String, String[]&gt;) request.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html#getParameterMap()" class="javadoc"><em>getParameterMap</em></a>();

  writer.<a href="http://java.sun.com/javase/6/docs/api/java/io/PrintWriter.html#println(java.lang.String)" class="javadoc">println</a>("Request parameters:");
  for (String name: params.<a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html#keySet()" class="javadoc">keySet</a>())
    for (String value: params.<a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html#get(java.lang.Object)" class="javadoc">get</a>(name))                 <span class="cmt">// <em>values are arrays</em> (<a href="#" id="tl-d22757e4639" class="dottedTooltip" onclick="return tlClick('tl-d22757e4639','pp-d22757e4639');" onmouseover="return tlOver('tl-d22757e4639','pp-d22757e4639');" onmouseout="return tlOut('tl-d22757e4639','pp-d22757e4639');">more</a>)</span>
      writer.<a href="http://java.sun.com/javase/6/docs/api/java/io/PrintWriter.html#printf(java.lang.String, java.lang.Object...)" class="javadoc">printf</a>("%s=%s\n", name, value);             <span class="cmt">// formatted print (<a href="#" id="tl-d22757e4652" class="dottedTooltip" onclick="return tlClick('tl-d22757e4652','pp-d22757e4652');" onmouseover="return tlOver('tl-d22757e4652','pp-d22757e4652');" onmouseout="return tlOut('tl-d22757e4652','pp-d22757e4652');">more</a>)</span>
}
</code></pre></div></div><div class="subSecRow2" id="sec_headers"><div class="subSecHead" id="sechd_headers"><a name="headers">Headers</a></div><div class="subSecContent" id="seccnt_headers"><h2 class="subSecSummaryNoClick">How to read header values</h2><p class="subSecExplanation">This example reads the <span class="idf">User-Agent</span> request header sent by the client to guess the user's browser (<a href="#" id="tl-d22757e4688" class="dottedTooltip" onclick="return tlClick('tl-d22757e4688','pp-d22757e4688');" onmouseover="return tlOver('tl-d22757e4688','pp-d22757e4688');" onmouseout="return tlOut('tl-d22757e4688','pp-d22757e4688');">more</a>):</p><pre class="subSecCode"><code>protected void <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServlet.html#doGet(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)" class="javadoc">doGet</a>(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html" class="javadoc">HttpServletRequest</a> request, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletResponse.html" class="javadoc">HttpServletResponse</a> response)
    throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html" class="javadoc">IOException</a> {

  response.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html#setContentType(java.lang.String)" class="javadoc">setContentType</a>("text/plain; charset=UTF-8");  <span class="cmt">// plain text (<a href="#" id="tl-d22757e4730" class="dottedTooltip" onclick="return tlClick('tl-d22757e4730','pp-d22757e4581');" onmouseover="return tlOver('tl-d22757e4730','pp-d22757e4581');" onmouseout="return tlOut('tl-d22757e4730','pp-d22757e4581');">more</a>)</span>
  response.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html#setCharacterEncoding(java.lang.String)" class="javadoc">setCharacterEncoding</a>("UTF-8");

  String userAgent = request.<em><a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getHeader(java.lang.String)" class="javadoc">getHeader</a>("User-Agent")</em>;

  String browserGuess = "some other browser";
  if (userAgent != null) {
    if (userAgent.contains("Firefox/"))
      browserGuess = "Firefox";
    else if (userAgent.contains("MSIE"))
      browserGuess = "Internet Explorer";
  }

  response.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletResponse.html#getWriter()" class="javadoc">getWriter</a>().<a href="http://java.sun.com/javase/6/docs/api/java/io/PrintWriter.html#println(java.lang.String)" class="javadoc">println</a>("Request parameters:");
}
</code></pre><p class="subSecExplanation">Find out more about browser detection in the <a href="browserdetection.xhtml#browserdetection">browser detection section</a> below.</p></div></div><div class="subSecRow1" id="sec_paths"><div class="subSecHead" id="sechd_paths"><a name="paths">Paths</a></div><div class="subSecContent" id="seccnt_paths"><p class="subSecExplanation">With the <span class="tag">&lt;<a href="#" id="tl-d22757e4804" class="tooltip" onclick="return tlClick('tl-d22757e4804','pp-d22757e478');" onmouseover="return tlOver('tl-d22757e4804','pp-d22757e478');" onmouseout="return tlOut('tl-d22757e4804','pp-d22757e478');">servlet-mapping</a>&gt;</span> element you can define for which paths your servlet will be invoked. Paths are <em>defined using URL patterns</em>.</p><h4 class="subSecMiniHeadline">URL Pattern</h4><p class="subSecExplanation">The <span class="tag">&lt;<a href="#" id="tl-d22757e4816" class="tooltip" onclick="return tlClick('tl-d22757e4816','pp-d22757e312');" onmouseover="return tlOver('tl-d22757e4816','pp-d22757e312');" onmouseout="return tlOut('tl-d22757e4816','pp-d22757e312');">url-pattern</a>&gt;</span> element in the servlet mapping supports <em>only two kinds of wildcards</em>:</p><ul class="subSecList"><li>'/*' at the end, to <em>map the servlet on a virtual directory</em></li><li>'*.ext', to <em>map the servlet on a file extension</em></li></ul><p class="subSecExplanation">Other uses of wildcards are not allowed.</p><h4 class="subSecMiniHeadline">Servlet Mapping</h4><p class="subSecExplanation">This <span class="idf">web.xml</span> snippet maps the servlet both on the directory '/libs' and the file extension '*.do':</p><pre class="subSecConfig"><span class="tag">&lt;<a href="#" id="tl-d22757e4848" class="tooltip" onclick="return tlClick('tl-d22757e4848','pp-d22757e478');" onmouseover="return tlOver('tl-d22757e4848','pp-d22757e478');" onmouseout="return tlOut('tl-d22757e4848','pp-d22757e478');">servlet-mapping</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e4851" class="tooltip" onclick="return tlClick('tl-d22757e4851','pp-d22757e481');" onmouseover="return tlOver('tl-d22757e4851','pp-d22757e481');" onmouseout="return tlOut('tl-d22757e4851','pp-d22757e481');">servlet-name</a>&gt;</span>myServlet<span class="tag">&lt;/<a href="#" id="tl-d22757e4854" class="tooltip" onclick="return tlClick('tl-d22757e4854','pp-d22757e481');" onmouseover="return tlOver('tl-d22757e4854','pp-d22757e481');" onmouseout="return tlOut('tl-d22757e4854','pp-d22757e481');">servlet-name</a>&gt;</span> 
    <span class="tag">&lt;<a href="#" id="tl-d22757e4856" class="tooltip" onclick="return tlClick('tl-d22757e4856','pp-d22757e312');" onmouseover="return tlOver('tl-d22757e4856','pp-d22757e312');" onmouseout="return tlOut('tl-d22757e4856','pp-d22757e312');">url-pattern</a>&gt;</span><em>/libs/*</em><span class="tag">&lt;/<a href="#" id="tl-d22757e4860" class="tooltip" onclick="return tlClick('tl-d22757e4860','pp-d22757e312');" onmouseover="return tlOver('tl-d22757e4860','pp-d22757e312');" onmouseout="return tlOut('tl-d22757e4860','pp-d22757e312');">url-pattern</a>&gt;</span>
<span class="tag">&lt;/<a href="#" id="tl-d22757e4862" class="tooltip" onclick="return tlClick('tl-d22757e4862','pp-d22757e478');" onmouseover="return tlOver('tl-d22757e4862','pp-d22757e478');" onmouseout="return tlOut('tl-d22757e4862','pp-d22757e478');">servlet-mapping</a>&gt;</span>
<span class="tag">&lt;<a href="#" id="tl-d22757e4865" class="tooltip" onclick="return tlClick('tl-d22757e4865','pp-d22757e478');" onmouseover="return tlOver('tl-d22757e4865','pp-d22757e478');" onmouseout="return tlOut('tl-d22757e4865','pp-d22757e478');">servlet-mapping</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e4868" class="tooltip" onclick="return tlClick('tl-d22757e4868','pp-d22757e481');" onmouseover="return tlOver('tl-d22757e4868','pp-d22757e481');" onmouseout="return tlOut('tl-d22757e4868','pp-d22757e481');">servlet-name</a>&gt;</span>myServlet<span class="tag">&lt;/<a href="#" id="tl-d22757e4871" class="tooltip" onclick="return tlClick('tl-d22757e4871','pp-d22757e481');" onmouseover="return tlOver('tl-d22757e4871','pp-d22757e481');" onmouseout="return tlOut('tl-d22757e4871','pp-d22757e481');">servlet-name</a>&gt;</span> 
    <span class="tag">&lt;<a href="#" id="tl-d22757e4873" class="tooltip" onclick="return tlClick('tl-d22757e4873','pp-d22757e312');" onmouseover="return tlOver('tl-d22757e4873','pp-d22757e312');" onmouseout="return tlOut('tl-d22757e4873','pp-d22757e312');">url-pattern</a>&gt;</span><em>*.do</em><span class="tag">&lt;/<a href="#" id="tl-d22757e4877" class="tooltip" onclick="return tlClick('tl-d22757e4877','pp-d22757e312');" onmouseover="return tlOver('tl-d22757e4877','pp-d22757e312');" onmouseout="return tlOut('tl-d22757e4877','pp-d22757e312');">url-pattern</a>&gt;</span>
<span class="tag">&lt;/<a href="#" id="tl-d22757e4879" class="tooltip" onclick="return tlClick('tl-d22757e4879','pp-d22757e478');" onmouseover="return tlOver('tl-d22757e4879','pp-d22757e478');" onmouseout="return tlOut('tl-d22757e4879','pp-d22757e478');">servlet-mapping</a>&gt;</span>
		</pre><h4 class="subSecMiniHeadline">Path Methods</h4><p class="subSecExplanation">When using wildcards like this, there are a number of <em>methods in <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html" class="javadoc">HttpServletRequest</a> to find out the request path</em>:</p><ul class="subSecList"><li><a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getRequestURI()" class="javadoc">getRequestURI</a> - the <em>complete path</em>, starting at the server's root</li><li><a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getContextPath()" class="javadoc">getContextPath</a> - the <em>context root</em> of the servlet (empty for context root "/")</li><li><a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getServletPath()" class="javadoc">getServletPath</a> - for <a href="#" id="tl-d22757e4917" class="dottedTooltip" onclick="return tlClick('tl-d22757e4917','pp-d22757e4920');" onmouseover="return tlOver('tl-d22757e4917','pp-d22757e4920');" onmouseout="return tlOut('tl-d22757e4917','pp-d22757e4920');">directory patterns</a>: <em>the mapped directory</em>; for <a href="#" id="tl-d22757e4928" class="dottedTooltip" onclick="return tlClick('tl-d22757e4928','pp-d22757e4931');" onmouseover="return tlOver('tl-d22757e4928','pp-d22757e4931');" onmouseout="return tlOut('tl-d22757e4928','pp-d22757e4931');">extension patterns</a>: path relative to context root</li><li><a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getPathInfo()" class="javadoc">getPathInfo</a> - for <a href="#" id="tl-d22757e4941" class="dottedTooltip" onclick="return tlClick('tl-d22757e4941','pp-d22757e4920');" onmouseover="return tlOver('tl-d22757e4941','pp-d22757e4920');" onmouseout="return tlOut('tl-d22757e4941','pp-d22757e4920');">directory patterns</a>: path <em>relative to servlet path</em>; for <a href="#" id="tl-d22757e4946" class="dottedTooltip" onclick="return tlClick('tl-d22757e4946','pp-d22757e4931');" onmouseover="return tlOver('tl-d22757e4946','pp-d22757e4931');" onmouseout="return tlOut('tl-d22757e4946','pp-d22757e4931');">extension patterns</a>: always <span class="idf">null</span></li></ul><h4 class="subSecMiniHeadline">URL Examples</h4><p class="subSecExplanation">Assuming the servlet mapped above has the context root 'myapp', here a few example URLs and their resulting paths:</p><div class="subSecTableDiv"><table><tr><th>URL</th><th>getRequestURI</th><th>getContextPath</th><th>getServletPath</th><th>getPathInfo</th></tr><tr><td>http://localhost/myapp/lib/x/y/a.htm</td><td>/myapp/lib/x/y/a.htm</td><td>/myapp</td><td>/lib</td><td>/x/y/a.htm</td></tr><tr><td>http://localhost/myapp/lib/abc/</td><td>/myapp/lib/abc/</td><td>/myapp</td><td>/lib</td><td>/abc/</td></tr><tr><td>http://localhost/myapp/help.do</td><td>/myapp/help.do</td><td>/myapp</td><td>/myapp/help.do</td><td><span class="idf">null</span></td></tr><tr><td>http://localhost/myapp/abc/run.do</td><td>/myapp/abc/run.do</td><td>/myapp</td><td>/myapp/abc/run.do</td><td><span class="idf">null</span></td></tr></table></div><h4 class="subSecMiniHeadline">Root Pattern</h4><p class="subSecExplanation"> You can also set the <span class="tag">&lt;<a href="#" id="tl-d22757e5027" class="tooltip" onclick="return tlClick('tl-d22757e5027','pp-d22757e312');" onmouseover="return tlOver('tl-d22757e5027','pp-d22757e312');" onmouseout="return tlOut('tl-d22757e5027','pp-d22757e312');">url-pattern</a>&gt;</span> to "/". The <em>servlet will then handle all paths</em>, and the path methods return the same values as they do for mapped extensions. </p></div></div><div class="yahbar"><div class="yahprev"><a href="responses.xhtml">Prev<br/><span>Responses</span></a></div><div class="yahhere"><a href="#" onclick="return navToggle();">Servlet 2.5 Guide / Requests</a><br/><a href="/guide/servlet25/"><span>Single Page Mode</span></a>, <a href="#" onclick="return navToggle();"><span>Show Table of Content</span></a></div><div class="yahnext"><a href="sessionsandcookies.xhtml">Next<br/><span>Sessions and Cookies</span></a></div></div></div><div id="sidecolumn">
    	<div><h3>Useful Links</h3><div class="sidecolumnSubTitleLine"/>
	  			<a href="http://java.sun.com/products/servlet/">Servlet Homepage</a><br/>
	  			<a href="http://en.wikipedia.org/wiki/Java_Servlet">Servlet on Wikipedia</a><br/>
	  			<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/package-summary.html">javax.servlet API Docs</a><br/>
	  			<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/package-summary.html">javax.servlet.http API Docs</a><br/>
	  			<a href="http://jcp.org/aboutJava/communityprocess/mrel/jsr154/index2.html">Servlet 2.5 Specification</a><br/>
	  		</div>
  		
  		<div><h3>Related Documents</h3><div class="sidecolumnSubTitleLine">(on Jarfiller.com)</div>
	  			<a href="/reference/webxml2x/">Web.xml Reference</a><br/>
	  		</div>
  	
  </div></div></div><div id="footer"><div id="footer-content"><div id="footer-left"><div class="footerLine"><a href="/">Home</a> - <a href="/about">About Jarfiller</a> - <a href="/imprint.xhtml">Imprint</a></div><div class="footerLine">Please send feedback and corrections to <a href="mailto:tim@tjansen.de">tim@<span style="display: none">got you</span>tjansen.de</a>.</div><div class="footerLine"><a href="http://www.twitter.com/timjansen">Follow</a> me on Twitter.</div><div class="copyrightLine">© 2010 Tim Jansen; content licensed under <a href="http://creativecommons.org/licenses/by/3.0/us/">cc-by</a>; example source code is public domain
				</div></div><div id="footer-right"><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="../../images/ext/cc-by-88x31.png"/></a></div></div></div><div id="navbar" onclick="return navToggle();" onmouseover="document.getElementById('navbar').className='mouseover';" onmouseout="document.getElementById('navbar').className='';"/><div id="navcontainer"><div id="navlinks"><div id="navclosebar"><a href="#" onclick="return navClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="navpositionbar" class="navpositionbar"/><h2 id="navtitle">Servlet 2.5 Guide</h2><a id="nav_overview" class="navseclink" href="overview.xhtml#overview">Overview</a><a id="nav_intro" class="navsublink" href="overview.xhtml#intro">Intro</a><a id="nav_usecases" class="navsublink" href="overview.xhtml#usecases">When should you write a Servlet?</a><a id="nav_requirements" class="navsublink" href="overview.xhtml#requirements">What do you need for Servlets?</a><a id="nav_containers" class="navsublink" href="overview.xhtml#containers">Which container supports which Servlet / JEE version?</a><a id="nav_httpintro" class="navsublink" href="overview.xhtml#httpintro">Short HTTP Introduction</a><a id="nav_servlets" class="navseclink" href="servlets.xhtml#servlets">Servlets</a><a id="nav_servletintro" class="navsublink" href="servlets.xhtml#servletintro">Servlet Intro</a><a id="nav_classoverview" class="navsublink" href="servlets.xhtml#classoverview">Class Overview</a><a id="nav_servletclass" class="navsublink" href="servlets.xhtml#servletclass">Servlet Class</a><a id="nav_servicemethods" class="navsublink" href="servlets.xhtml#servicemethods">Service Dispatching in the HttpServlet</a><a id="nav_lifecycle" class="navsublink" href="servlets.xhtml#lifecycle">The Servlet Lifecycle</a><a id="nav_multithreading" class="navsublink" href="servlets.xhtml#multithreading">Multithreading</a><a id="nav_twothreadsafeways" class="navsublink" href="servlets.xhtml#twothreadsafeways">Two Simple Ways to Write Thread-Safe Servlets</a><a id="nav_webapplications" class="navsublink" href="servlets.xhtml#webapplications">Web Applications</a><a id="nav_webxml" class="navsublink" href="servlets.xhtml#webxml">web.xml</a><a id="nav_applayout" class="navsublink" href="servlets.xhtml#applayout">Example Application Layout</a><a id="nav_contextroot" class="navsublink" href="servlets.xhtml#contextroot">Context Root</a><a id="nav_staticcontent" class="navsublink" href="servlets.xhtml#staticcontent">Static Content</a><a id="nav_eclipse" class="navsublink" href="servlets.xhtml#eclipse">How to Create a Web Application with Eclipse</a><a id="nav_ant" class="navsublink" href="servlets.xhtml#ant">How to Create a Web Application (WAR) with Ant</a><a id="nav_tomcat" class="navsublink" href="servlets.xhtml#tomcat">How to Deploy a Web Application on Tomcat</a><a id="nav_responses" class="navseclink" href="responses.xhtml#responses">Responses</a><a id="nav_textoutput" class="navsublink" href="responses.xhtml#textoutput">Text Output</a><a id="nav_responsebinary" class="navsublink" href="responses.xhtml#responsebinary">Binary Output</a><a id="nav_buffering" class="navsublink" href="responses.xhtml#buffering">Buffering and Committing</a><a id="nav_errors" class="navsublink" href="responses.xhtml#errors">Error Code</a><a id="nav_redirection" class="navsublink" href="responses.xhtml#redirection">Redirection</a><a id="nav_requests" class="navseclink" href="#requests" onclick="if (event.button == 0) return goTo('#requests', true); else return true;">Requests</a><a id="nav_reqparameters" class="navsublink" href="#reqparameters" onclick="if (event.button == 0) return goTo('#reqparameters', true); else return true;">Request Parameters</a><a id="nav_parameternames" class="navsublink" href="#parameternames" onclick="if (event.button == 0) return goTo('#parameternames', true); else return true;">How to find out which parameters have been sent</a><a id="nav_headers" class="navsublink" href="#headers" onclick="if (event.button == 0) return goTo('#headers', true); else return true;">How to read header values</a><a id="nav_paths" class="navsublink" href="#paths" onclick="if (event.button == 0) return goTo('#paths', true); else return true;">Paths</a><a id="nav_sessionsandcookies" class="navseclink" href="sessionsandcookies.xhtml#sessionsandcookies">Sessions and Cookies</a><a id="nav_cookies" class="navsublink" href="sessionsandcookies.xhtml#cookies">Cookies</a><a id="nav_sessions" class="navsublink" href="sessionsandcookies.xhtml#sessions">Sessions</a><a id="nav_distributablesessions" class="navsublink" href="sessionsandcookies.xhtml#distributablesessions">Sessions in Distributed Servers (Clusters)</a><a id="nav_sessioncaveat" class="navsublink" href="sessionsandcookies.xhtml#sessioncaveat">Be Careful When Using HttpSession</a><a id="nav_resources" class="navseclink" href="resources.xhtml#resources">Resources</a><a id="nav_resourceannotations" class="navsublink" href="resources.xhtml#resourceannotations">Resource Annotations</a><a id="nav_jndilookup" class="navsublink" href="resources.xhtml#jndilookup">How to get resources with JNDI</a><a id="nav_tomcatresources" class="navsublink" href="resources.xhtml#tomcatresources">How to Provide Resources in Tomcat</a><span class="navseclink">How to... Requests and Responses</span><a id="nav_customheaders" class="navsublink" href="customheaders.xhtml#customheaders">How to Read and Write Additional Headers</a><a id="nav_attributes" class="navsublink" href="attributes.xhtml#attributes">How to Use Attributes in Request and Context</a><a id="nav_getlastmodified" class="navsublink" href="getlastmodified.xhtml#getlastmodified">How to Use HttpServlet.getLastModified to Improve Client-Side Caching</a><a id="nav_contentlength" class="navsublink" href="contentlength.xhtml#contentlength">How to Set the Content Length</a><a id="nav_fileupload" class="navsublink" href="fileupload.xhtml#fileupload">How to Receive File Uploads (Multi-Part File Upload)</a><a id="nav_browserdetection" class="navsublink" href="browserdetection.xhtml#browserdetection">How to Detect the User's Web Browser</a><a id="nav_contentlanguage" class="navsublink" href="contentlanguage.xhtml#contentlanguage">How to Declare the Content Language</a><a id="nav_acceptedlanguages" class="navsublink" href="acceptedlanguages.xhtml#acceptedlanguages">How to Detect the Client's Preferred Languages</a><a id="nav_sendingxml" class="navsublink" href="sendingxml.xhtml#sendingxml">How to Send XML as Response</a><a id="nav_dynamicimages" class="navsublink" href="dynamicimages.xhtml#dynamicimages">How to Generate Images as Response</a><a id="nav_jspforward" class="navsublink" href="jspforward.xhtml#jspforward">How to Use a JSP as Template</a><a id="nav_requestdispatcher" class="navsublink" href="requestdispatcher.xhtml#requestdispatcher">How to Invoke Servlets and JSPs with the RequestDispatcher</a><a id="nav_virtualhosts" class="navsublink" href="virtualhosts.xhtml#virtualhosts">How to Handle Virtual Hosts and Multiple IP Addresses?</a><a id="nav_filters" class="navsublink" href="filters.xhtml#filters">How to Write Filters</a><span class="navseclink">How to... Sessions and Security</span><a id="nav_usermanagement" class="navsublink" href="usermanagement.xhtml#usermanagement">How to Authenticate and Manage Users</a><a id="nav_declarativesecurity" class="navsublink" href="declarativesecurity.xhtml#declarativesecurity">How to Restrict Access to a Web Application (Declarative Security)</a><a id="nav_requiringssl" class="navsublink" href="requiringssl.xhtml#requiringssl">How to Require HTTPS / SSL</a><a id="nav_programmaticsecurity" class="navsublink" href="programmaticsecurity.xhtml#programmaticsecurity">How to Use Authentication Data in Servlets</a><a id="nav_cookielessessions" class="navsublink" href="cookielessessions.xhtml#cookielessessions">How to Use HttpSessions and Authentication without Cookies?</a><span class="navseclink">How to... General</span><a id="nav_addinglibraries" class="navsublink" href="addinglibraries.xhtml#addinglibraries">How to Add Libraries to a Web Application / WAR</a><a id="nav_addingresourcefiles" class="navsublink" href="addingresourcefiles.xhtml#addingresourcefiles">How to Read Files Contained in a Web Application / WAR</a><a id="nav_throwingexceptions" class="navsublink" href="throwingexceptions.xhtml#throwingexceptions">How to Throw Exceptions in Servlets</a><a id="nav_initparameters" class="navsublink" href="initparameters.xhtml#initparameters">Configure your Servlet with Initialization Parameters</a><a id="nav_logging" class="navsublink" href="logging.xhtml#logging">How to Log</a><a id="nav_errorpages" class="navsublink" href="errorpages.xhtml#errorpages">How to Replace the Default Error Page</a><a id="nav_temporarydirectory" class="navsublink" href="temporarydirectory.xhtml#temporarydirectory">How to Get a Temporary Directory</a><a id="nav_ejbinvocation" class="navsublink" href="ejbinvocation.xhtml#ejbinvocation">How to Access an EJB</a><a id="nav_distributedapps" class="navsublink" href="distributedapps.xhtml#distributedapps">How to Create a Distributed Application</a><a id="nav_listeners" class="navsublink" href="listeners.xhtml#listeners">How to Be Notified about Events (Listeners)</a><a id="nav_servlet24" class="navsublink" href="servlet24.xhtml#servlet24">New Features Since Servlet API 2.4</a><a id="nav_andnow" class="navseclink" href="andnow.xhtml#andnow">And now...?</a><a id="nav_nextsteps" class="navsublink" href="andnow.xhtml#nextsteps">Next Steps</a></div></div><div id="popups"><div id="pp-d22757e4213" class="tooltip">Requests parameters are usually <em>values sent by a form</em> on an HTML page. Parameters are very simple: each has <em>a name</em> (corresponding to the form input's name) and a simple <em>string as value</em> (containing the user's input or, for buttons, a value specified in the HTML). You can retrieve a parameter's value using <span class="idf">HttpServletResponse</span>'s <span class="idf">getParameter</span> method. It is possible that there's more than one parameter with the same name - you can then retrieve the complete list using <span class="idf">getParameterValues</span>. To find out which parameters have been sent use <span class="idf">getParameterMap</span> or <span class="idf">getParameterNames</span>.</div><div id="pp-d22757e4362" class="tooltip">This method is called by <span class="idf">doGet</span> and <span class="idf">doPost</span> to handle both commands. GET will be used the first time the user visits the page - if a user enters a URL or follows a link, the browser uses GET. POST will be used for posting the form.</div><div id="pp-d22757e4413" class="tooltip">The following line tests whether both parameters have been set and are numeric. <em>Parameters validation of is very important</em> and a frequent source of security issues, as users can send any string as parameters. Always be sure to <em>only accept those values that you can handle</em> and ignore or return errors for everything else.</div><div id="pp-d22757e4581" class="tooltip">This servlet returns plain text instead of HTML. For trying things out plain text is often more convenient.</div><div id="pp-d22757e4639" class="tooltip">It is possible in HTTP that there is more than one name/value pair with the same name. That's why <em>the map contains string arrays</em> as values. Some mean people would add that Java designers prefer correctness over ease-of-use, but don't quote me on that!</div><div id="pp-d22757e4652" class="tooltip">The example uses <span class="idf">PrintWriter</span>'s <span class="idf">printf</span> method. It formats the string exactly like <span class="idf">String.format</span> does. If you don't know <span class="idf">String.format</span>, check out its Javadocs now - it will save you a lot of time!</div><div id="pp-d22757e4688" class="tooltip">Every browser version has a distinct <span class="idf">User-Agent</span> value. However, <em>a browser may lie</em> and give you a wrong value (usually the same as some more popular browser to increase compatibility). Furthermore, browsers try to include keywords from other browsers if they share the same features. All this makes interpreting the <span class="idf">User-Agent</span> an art of its own.</div><div id="pp-d22757e4518" class="tooltip"><span class="idf">java.util.Enumeration</span> is the predecessor of <span class="idf">Iterator</span> and was used before Java 1.2 - as you can see the Servlet API is really old! Use <span class="idf">Collections.list</span> to convert the result into a modern <span class="idf">ArrayList</span>.</div><div id="pp-d22757e4920" class="tooltip"><span class="idf">&lt;url-pattern</span> elements that end with a wildcard and thus specify a directory (e.g. '/images/*').</div><div id="pp-d22757e4931" class="tooltip"><span class="idf">&lt;url-pattern</span> elements that start with a wildcard and describe a extension (e.g. '*.html').</div><div id="pp-d22757e312" class="tooltip">Defines the URLs that the servlet will invoked for. A complete path, or "/path/*", "*.extension" or "/". Repeat to define several alternative patterns. Required, more than one allowed.</div><div id="pp-d22757e431" class="tooltip">The name of the servlet. Must be unique in the descriptor, and will be referenced by <span class="idf">&lt;servlet-mapping&gt;</span> elements. Required.</div><div id="pp-d22757e478" class="tooltip">Defines the URL or a pattern for those URLs that the servlet responds to. Optional, more than one allowed.</div><div id="pp-d22757e481" class="tooltip">The name of the servlet that is mapped. Must correspond to a <span class="idf">&lt;servlet&gt;</span>/<span class="idf">&lt;servlet-name&gt;</span> element. Required.</div><div id="ttCloseBar" class="closeBar"><a href="#" onclick="return tlClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="topicCloseBar" class="closeBar"><a href="#" onclick="return tpcClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div></div></body></html>