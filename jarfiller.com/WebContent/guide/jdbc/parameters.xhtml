<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:page="http://tjansen.de/refPage" xmlns:i="http://tjansen.de/internal"><head><title>Parameters - JDBC Guide</title><meta http-equiv="X-UA-Compatible" content="chrome=1"/><meta http-equiv="content-language" content="en"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="stylesheet" type="text/css" href="../../style/style.css"/><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-6791190-2']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
})();
</script><script type="text/javascript" src="../../js/all.js"/></head><body id="body"><div id="visibleContent"><div id="top"><a href="/"><img src="../../images/titlebar.png" alt="Jarfiller.com"/></a></div><div id="main"><div id="bodycolumn"><div class="yahbar"><div class="yahprev"><a href="updatesandqueries.xhtml">Prev</a></div><h3 class="yahhere"><a href="#" onclick="return navToggle();">JDBC Guide / Parameters</a></h3><div class="yahnext"><a href="workstatements.xhtml">Next</a></div></div><h1 id="sec_parameters" class="multipageTitle"><a name="parameters">Parameters</a></h1><div class="subSecRow2" id="sec_parameters1"><div class="subSecHead" id="sechd_parameters1"><a name="parameters1">Parameters</a><br/>(<a href="#" id="tl-d5630e1638" class="dottedTooltip" onclick="return tlClick('tl-d5630e1638','pp-d5630e1643');" onmouseover="return tlOver('tl-d5630e1638','pp-d5630e1643');" onmouseout="return tlOut('tl-d5630e1638','pp-d5630e1643');">more</a>)
		</div><div class="subSecContent" id="seccnt_parameters1"><pre class="subSecCode"><code><a href="http://java.sun.com/javase/6/docs/api/java/sql/Connection.html" class="javadoc">Connection</a> connection = <span class="abstract">...</span> ;
try {
    String sql = "SELECT title, releaseDate, budget FROM Movie"+
         " WHERE title LIKE <em>?</em> AND budget &gt;= <em>?</em>";       <span class="cmt">// <span class="idf">?</span> is <em>parameter placeholder</em></span>
    <a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html" class="javadoc">PreparedStatement</a> stmt = connection.<a href="http://java.sun.com/javase/6/docs/api/java/sql/Connection.html#prepareStatement(java.lang.String)" class="javadoc">prepareStatement</a>(sql);

    stmt.<em><a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html#setString(int, java.lang.String)" class="javadoc">setString</a>(1, "Jaws%")</em>;                       <span class="cmt">// set parameters</span>
    stmt.<em><a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html#setBigDecimal(int, java.math.BigDecimal)" class="javadoc">setBigDecimal</a>(2, new <a href="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html" class="javadoc">BigDecimal</a>(10000000))</em>;  <span class="cmt">// <span class="idf">BigDecimal</span> for currency (<a href="#" id="tl-d5630e1716" class="dottedTooltip" onclick="return tlClick('tl-d5630e1716','pp-d5630e1716');" onmouseover="return tlOver('tl-d5630e1716','pp-d5630e1716');" onmouseout="return tlOut('tl-d5630e1716','pp-d5630e1716');">more</a>)</span>

    <a href="http://java.sun.com/javase/6/docs/api/java/sql/ResultSet.html" class="javadoc">ResultSet</a> rs = stmt.<a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html#executeQuery()" class="javadoc">executeQuery</a>();

    while (rs.<a href="http://java.sun.com/javase/6/docs/api/java/sql/ResultSet.html#next()" class="javadoc">next</a>()) {                               <span class="cmt">// iterate through results</span>
        String title = rs.<a href="http://java.sun.com/javase/6/docs/api/java/sql/ResultSet.html#getString(java.lang.String)" class="javadoc">getString</a>("title");
        <a href="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html" class="javadoc">BigDecimal</a> title = rs.<a href="http://java.sun.com/javase/6/docs/api/java/sql/ResultSet.html#getBigDecimal(java.lang.String)" class="javadoc">getBigDecimal</a>("budget");
        <a href="http://java.sun.com/javase/6/docs/api/java/sql/Date.html" class="javadoc">Date</a> date = rs.<a href="http://java.sun.com/javase/6/docs/api/java/sql/ResultSet.html#getDate(java.lang.String)" class="javadoc">getDate</a>("releaseDate");

        System.out.printf("title=%s date=%s budget=%s\n", title, date, budget);
    }
}
finally {
    connection.<a href="http://java.sun.com/javase/6/docs/api/java/sql/Connection.html#close()" class="javadoc">close</a>();
}
</code></pre></div></div><div class="subSecRow1" id="sec_reusing"><div class="subSecHead" id="sechd_reusing"><a name="reusing">Reusing Statements</a><br/>(<a href="#" id="tl-d5630e1794" class="dottedTooltip" onclick="return tlClick('tl-d5630e1794','pp-d5630e1799');" onmouseover="return tlOver('tl-d5630e1794','pp-d5630e1799');" onmouseout="return tlOut('tl-d5630e1794','pp-d5630e1799');">more</a>)
		</div><div class="subSecContent" id="seccnt_reusing"><pre class="subSecCode"><code><a href="http://java.sun.com/javase/6/docs/api/java/sql/Connection.html" class="javadoc">Connection</a> connection = <span class="abstract">...</span> ;
try {
    String sql = "INSERT INTO Movie (title, budget, releaseDate) VALUES(<em>?, ?, ?</em>)";
    <a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html" class="javadoc">PreparedStatement</a> stmt = connection.<a href="http://java.sun.com/javase/6/docs/api/java/sql/Connection.html#prepareStatement(java.lang.String)" class="javadoc">prepareStatement</a>(sql);

    <span class="cmt">// Insert movies released on July 13 1984:</span>
    <a href="http://java.sun.com/javase/6/docs/api/java/sql/Date.html" class="javadoc">Date</a> july13 = new <a href="http://java.sun.com/javase/6/docs/api/java/sql/Date.html" class="javadoc">Date</a>(new <a href="http://java.sun.com/javase/6/docs/api/java/util/GregorianCalendar.html" class="javadoc">GregorianCalendar</a>(1984, <a href="http://java.sun.com/javase/6/docs/api/java/util/Calendar.html#JULY" class="javadoc">Calendar.JULY</a>, 13).<a href="http://java.sun.com/javase/6/docs/api/java/util/Calendar.html#getTimeInMillis()" class="javadoc">getTimeInMillis</a>());
    stmt.<em><a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html#setString(int, java.sql.Date)" class="javadoc">setDate</a>(3, july13)</em>;  <span class="cmt">// <em>re-used parameter</em> (<a href="#" id="tl-d5630e1873" class="dottedTooltip" onclick="return tlClick('tl-d5630e1873','pp-d5630e1873');" onmouseover="return tlOver('tl-d5630e1873','pp-d5630e1873');" onmouseout="return tlOut('tl-d5630e1873','pp-d5630e1873');">more</a>)</span>

    <span class="cmt">// Execute statement once per movie</span>
    stmt.<a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html#setString(int, java.lang.String)" class="javadoc">setString</a>(1, "The Last Starfighter");
    stmt.<a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html#setBigDecimal(int, java.math.BigDecimal)" class="javadoc">setBigDecimal</a>(2, new <a href="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html" class="javadoc">BigDecimal</a>(15000000));
    stmt.<a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html#executeUpdate()" class="javadoc"><em>executeUpdate</em></a>();

    stmt.<a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html#setString(int, java.lang.String)" class="javadoc">setString</a>(1, "The Muppets Take Manhattan");
    stmt.<a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html#setBigDecimal(int, java.math.BigDecimal)" class="javadoc">setBigDecimal</a>(2, new <a href="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html" class="javadoc">BigDecimal</a>(8000000));
    stmt.<a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html#executeUpdate()" class="javadoc"><em>executeUpdate</em></a>();
}
finally {
    connection.<a href="http://java.sun.com/javase/6/docs/api/java/sql/Connection.html#close()" class="javadoc">close</a>();
}
</code></pre></div></div><div class="yahbar"><div class="yahprev"><a href="updatesandqueries.xhtml">Prev<br/><span>Updates and Queries</span></a></div><div class="yahhere"><a href="#" onclick="return navToggle();">JDBC Guide / Parameters</a><br/><a href="/guide/jdbc/"><span>Single Page Mode</span></a>, <a href="#" onclick="return navToggle();"><span>Show Table of Content</span></a></div><div class="yahnext"><a href="workstatements.xhtml">Next<br/><span>Working with Statements</span></a></div></div></div><div id="sidecolumn">
    	<div><h3>Useful Links</h3><div class="sidecolumnSubTitleLine"/>
  			<a href="http://java.sun.com/javase/technologies/database/">JDBC Homepage</a><br/>
  			<a href="http://en.wikipedia.org/wiki/Java_Database_Connectivity">JDBC on Wikipedia</a><br/>
  			<a href="http://java.sun.com/javase/6/docs/api/java/sql/package-summary.html">java.sql API Docs</a><br/>
  			<a href="http://java.sun.com/javase/6/docs/api/javax/sql/package-summary.html">javax.sql API Docs</a><br/>
  			<a href="http://jcp.org/aboutJava/communityprocess/final/jsr221/index.html">JDBC 4.0 Specification</a><br/>
  		</div>
  </div></div></div><div id="footer"><div id="footer-content"><div id="footer-left"><div class="footerLine"><a href="/">Home</a> - <a href="/about">About Jarfiller</a> - <a href="/imprint.xhtml">Imprint</a></div><div class="footerLine">Please send feedback and corrections to <a href="mailto:tim@tjansen.de">tim@<span style="display: none">got you</span>tjansen.de</a>.</div><div class="footerLine"><a href="http://www.twitter.com/timjansen">Follow</a> me on Twitter.</div><div class="copyrightLine">© 2010 Tim Jansen; content licensed under <a href="http://creativecommons.org/licenses/by/3.0/us/">cc-by</a>; example source code is public domain
				</div></div><div id="footer-right"><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="../../images/ext/cc-by-88x31.png"/></a></div></div></div><div id="navbar" onclick="return navToggle();" onmouseover="document.getElementById('navbar').className='mouseover';" onmouseout="document.getElementById('navbar').className='';"/><div id="navcontainer"><div id="navlinks"><div id="navclosebar"><a href="#" onclick="return navClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="navpositionbar" class="navpositionbar"/><h2 id="navtitle">JDBC Guide</h2><a id="nav_overview" class="navseclink" href="overview.xhtml#overview">Overview</a><a id="nav_intro" class="navsublink" href="overview.xhtml#intro">Intro</a><a id="nav_usecases" class="navsublink" href="overview.xhtml#usecases">When should you use JDBC for?</a><a id="nav_requirements" class="navsublink" href="overview.xhtml#requirements">What do you need for JDBC?</a><a id="nav_connecting" class="navseclink" href="connecting.xhtml#connecting">Connecting</a><a id="nav_standalone" class="navsublink" href="connecting.xhtml#standalone">Stand-Alone</a><a id="nav_jeecontainer" class="navsublink" href="connecting.xhtml#jeecontainer">JEE Container</a><a id="nav_javadb" class="navsublink" href="connecting.xhtml#javadb">Connecting to Java DB</a><a id="nav_postgresql" class="navsublink" href="connecting.xhtml#postgresql">Connecting to PostgreSQL</a><a id="nav_oracle" class="navsublink" href="connecting.xhtml#oracle">Connecting to Oracle Database</a><a id="nav_exampleschema" class="navsublink" href="connecting.xhtml#exampleschema">Database Schema for the Following Examples</a><a id="nav_updatesandqueries" class="navseclink" href="updatesandqueries.xhtml#updatesandqueries">Updates and Queries</a><a id="nav_update" class="navsublink" href="updatesandqueries.xhtml#update">Update</a><a id="nav_query" class="navsublink" href="updatesandqueries.xhtml#query">Query</a><a id="nav_valueconversion" class="navsublink" href="updatesandqueries.xhtml#valueconversion">Value Conversion</a><a id="nav_colindex" class="navsublink" href="updatesandqueries.xhtml#colindex">Column Index</a><a id="nav_parameters" class="navseclink" href="#parameters" onclick="if (event.button == 0) return goTo('#parameters', true); else return true;">Parameters</a><a id="nav_parameters1" class="navsublink" href="#parameters1" onclick="if (event.button == 0) return goTo('#parameters1', true); else return true;">Parameters</a><a id="nav_reusing" class="navsublink" href="#reusing" onclick="if (event.button == 0) return goTo('#reusing', true); else return true;">Reusing Statements</a><a id="nav_workstatements" class="navseclink" href="workstatements.xhtml#workstatements">Working with Statements</a><a id="nav_transactions" class="navsublink" href="workstatements.xhtml#transactions">Transactions</a><a id="nav_closing" class="navsublink" href="workstatements.xhtml#closing">Closing Resources</a><a id="nav_plainstatements" class="navseclink" href="plainstatements.xhtml#plainstatements">Plain Statements</a><a id="nav_plainstatements1" class="navsublink" href="plainstatements.xhtml#plainstatements1">Plain Statement</a><a id="nav_escape" class="navseclink" href="escape.xhtml#escape">SQL Escape Syntax</a><a id="nav_escapesyntax" class="navsublink" href="escape.xhtml#escapesyntax">Escape Syntax</a><a id="nav_dateliterals" class="navsublink" href="escape.xhtml#dateliterals">Date Literals</a><a id="nav_escapefunctions" class="navsublink" href="escape.xhtml#escapefunctions">Functions</a><a id="nav_escapefunctionlist" class="navsublink" href="escape.xhtml#escapefunctionlist">List of Supported Functions</a><a id="nav_storedproceduresescape" class="navsublink" href="escape.xhtml#storedproceduresescape">Stored Procedures</a><a id="nav_likeescape" class="navsublink" href="escape.xhtml#likeescape">LIKE Escape</a><a id="nav_outerjoinsescape" class="navsublink" href="escape.xhtml#outerjoinsescape">Outer Joins</a><span class="navseclink">How to...</span><a id="nav_storedprocedures" class="navsublink" href="storedprocedures.xhtml#storedprocedures">How to Invoke Stored Procedures (CallableStatement)</a><a id="nav_readingnull" class="navsublink" href="readingnull.xhtml#readingnull">How to Find Out Whether a ResultSet Column is NULL</a><a id="nav_cursors" class="navsublink" href="cursors.xhtml#cursors">How to Navigate in the ResultSet (Cursors)</a><a id="nav_holdablers" class="navsublink" href="holdablers.xhtml#holdablers">How to Control ResultSet Holdability</a><a id="nav_arrays" class="navsublink" href="arrays.xhtml#arrays">How to Handle SQL Arrays</a><a id="nav_creatingsql" class="navsublink" href="creatingsql.xhtml#creatingsql">How to Escape Strings in SQL to Prevent SQL Injection Attacks</a><a id="nav_batch" class="navsublink" href="batch.xhtml#batch">How to Do a Batch Updates</a><a id="nav_performance" class="navsublink" href="performance.xhtml#performance">How to Improve Performance</a><a id="nav_dateandtime" class="navsublink" href="dateandtime.xhtml#dateandtime">How to Handle Date and Time</a><a id="nav_fetchsizes" class="navsublink" href="fetchsizes.xhtml#fetchsizes">How to Set the Fetch Size</a><a id="nav_timeout" class="navsublink" href="timeout.xhtml#timeout">How to Set the Query Timeout</a><a id="nav_rowsets" class="navsublink" href="rowsets.xhtml#rowsets">What are RowSets?</a><a id="nav_dbmetadata" class="navsublink" href="dbmetadata.xhtml#dbmetadata">How to Find Out the Database's Capabilities (DatabaseMetaData)</a><a id="nav_resultsetmetadata" class="navsublink" href="resultsetmetadata.xhtml#resultsetmetadata">How to Find Out About the Columns of a ResultSet (ResultSetMetaData)</a><a id="nav_blobs" class="navsublink" href="blobs.xhtml#blobs">How to Use Blobs and Clobs</a><a id="nav_xml" class="navsublink" href="xml.xhtml#xml">How to Access XML</a><a id="nav_arrayparameters" class="navsublink" href="arrayparameters.xhtml#arrayparameters">How to Pass an Array as Parameter for the IN operator</a><a id="nav_transactionisolation" class="navsublink" href="transactionisolation.xhtml#transactionisolation">How to Set the Transaction Isolation Level</a><a id="nav_drivercats" class="navsublink" href="drivercats.xhtml#drivercats">What are JDBC Driver Categories?</a><a id="nav_wheretoputstatements" class="navsublink" href="wheretoputstatements.xhtml#wheretoputstatements">Where to Put SQL Statements</a><a id="nav_dboverview" class="navsublink" href="dboverview.xhtml#dboverview">Which Database is the Right One? (Short Database Overview)</a><a id="nav_concurrency" class="navsublink" href="concurrency.xhtml#concurrency">How to Use JDBC in Multi-Threaded Applications</a><a id="nav_warnings" class="navsublink" href="warnings.xhtml#warnings">How to Read Warnings by the Driver or Database (SQLWarning)</a><a id="nav_types" class="navsublink" href="types.xhtml#types">How to Map Between Java Types and JDBC Types</a><a id="nav_todo" class="navsublink" href="todo.xhtml#todo">TODO</a><a id="nav_appservertransactions" class="navsublink" href="appservertransactions.xhtml#appservertransactions">How to Use Transactions in an Application Server</a><a id="nav_autokeys" class="navsublink" href="autokeys.xhtml#autokeys">How to Retrieve Generated Values (Auto-Generated Keys)</a><a id="nav_userdefinedtypes" class="navsublink" href="userdefinedtypes.xhtml#userdefinedtypes">How to Write a Custom-Mapping for User-Defined Types</a><a id="nav_distinct" class="navsublink" href="distinct.xhtml#distinct">How to Handle Scalar User-Defined Types (Distinct)?</a><a id="nav_structs" class="navsublink" href="structs.xhtml#structs">How to Read Composite Types (Structs)</a><a id="nav_nullparameters" class="navsublink" href="nullparameters.xhtml#nullparameters">How to Set Parameters to NULL</a><a id="nav_wrapper" class="navsublink" href="wrapper.xhtml#wrapper">How to Access Driver Classes When the Application Server Wraps Them</a><a id="nav_andnow" class="navseclink" href="andnow.xhtml#andnow">And now...?</a><a id="nav_nextsteps" class="navsublink" href="andnow.xhtml#nextsteps">Next Steps</a></div></div><div id="popups"><div id="pp-d5630e1643" class="tooltip">Parameters allow you to use '?' as placeholders in a SQL, and set them using <span class="idf">PreparedStatement</span>'s methods before execution. The main reason for this is that parameters are easier and safer than dynamically constructing SQL statements in any way. It also allows the database to cache its execution plan for the statement.</div><div id="pp-d5630e1716" class="tooltip">Using <span class="idf">BigDecimal</span> for currency is a good idea, because unlike the floating point types does not have any rounding errors.</div><div id="pp-d5630e1799" class="tooltip">You can reuse any statement that you created and execute it several times. This is especially useful for <span class="idf">PreparedStatement</span>'s with parameters, because <span class="idf">PreparedStatement</span> remembers any previously set parameters. It also may help the database to execute your statements, because it needs to compile and analyze it only once.</div><div id="pp-d5630e1873" class="tooltip">You can execute a statement more than once. If you don't modify a parameter after an execution, the value is used for the next execution as well. In this example, the third parameter is being re-used for two executions.</div><div id="ttCloseBar" class="closeBar"><a href="#" onclick="return tlClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="topicCloseBar" class="closeBar"><a href="#" onclick="return tpcClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div></div></body></html>