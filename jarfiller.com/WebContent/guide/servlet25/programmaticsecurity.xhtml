<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:page="http://tjansen.de/refPage" xmlns:i="http://tjansen.de/internal"><head><title>How to Use Authentication Data in Servlets - Servlet 2.5 Guide</title><meta http-equiv="X-UA-Compatible" content="chrome=1"/><meta http-equiv="content-language" content="en"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="stylesheet" type="text/css" href="../../style/style.css"/><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-6791190-2']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
})();
</script><script type="text/javascript" src="../../js/all.js"/></head><body id="body"><div id="visibleContent"><div id="top"><a href="/"><img src="../../images/titlebar.png" alt="Jarfiller.com"/></a></div><div id="main"><div id="bodycolumn"><div class="yahbar"><div class="yahprev"><a href="requiringssl.xhtml">Prev</a></div><h3 class="yahhere"><a href="#" onclick="return navToggle();">Servlet 2.5 Guide / How to... Sessions and Security</a></h3><div class="yahnext"><a href="cookielessessions.xhtml">Next</a></div></div><h1 id="sec_howtosessionssecurity" class="multipageTitle">How to Use Authentication Data in Servlets</h1><div class="subSecRow2" id="sec_programmaticsecurity"><div class="subSecHead" id="sechd_programmaticsecurity"><a name="programmaticsecurity">Programmatic Security</a></div><div class="subSecContent" id="seccnt_programmaticsecurity"><p class="subSecExplanation">When a user is logged in, servlets can <em>get the user's name and check her roles</em>. This is only possible in combination with <a href="declarativesecurity.xhtml#declarativesecurity">declarative security</a>, because the container <em>authenticates users only for restricted resources</em> (<a href="#" id="tl-d22757e10331" class="dottedTooltip" onclick="return tlClick('tl-d22757e10331','pp-d22757e10331');" onmouseover="return tlOver('tl-d22757e10331','pp-d22757e10331');" onmouseout="return tlOut('tl-d22757e10331','pp-d22757e10331');">more</a>). </p><p class="subSecExplanation"> The <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequest.html" class="javadoc">ServletRequest</a> provides you with three methods to access authentication data:</p><ul class="subSecList"><li><a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getUserPrincipal()" class="javadoc">getUserPrincipal</a> returns the user's <a href="http://java.sun.com/javase/6/docs/api/java/security/Principal.html" class="javadoc">Principal</a> object (<a href="#" id="tl-d22757e10352" class="dottedTooltip" onclick="return tlClick('tl-d22757e10352','pp-d22757e10352');" onmouseover="return tlOver('tl-d22757e10352','pp-d22757e10352');" onmouseout="return tlOut('tl-d22757e10352','pp-d22757e10352');">more</a>), or null if no user is logged in</li><li><a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getRemoteUser()" class="javadoc">getRemoteUser</a> returns the user's login name, or null if no user is logged in</li><li><a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#isUserInRole(java.lang.String)" class="javadoc">isUserInRole</a> checks whether the current user is in the given role</li></ul><h4 class="subSecMiniHeadline">Getting the User's Identity</h4><p class="subSecExplanation"> This example logs the authenticated user: </p><pre class="subSecCode"><code>protected void <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServlet.html#doGet(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)" class="javadoc">doGet</a>(<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html" class="javadoc">HttpServletRequest</a> request, <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletResponse.html" class="javadoc">HttpServletResponse</a> response)
      throws <a href="http://java.sun.com/javase/6/docs/api/java/io/IOException.html" class="javadoc">IOException</a> {

    <a href="http://java.sun.com/javase/6/docs/api/java/security/Principal.html" class="javadoc">Principal</a> p = request.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getUserPrincipal()" class="javadoc"><em>getUserPrincipal</em></a>();
    if (p == null)
        <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/GenericServlet.html#log(java.lang.String)" class="javadoc">log</a>("No user logged in.");
    else {
        <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/GenericServlet.html#log(java.lang.String)" class="javadoc">log</a>("Principal: " + p.<a href="http://java.sun.com/javase/6/docs/api/java/security/Principal.html#getName()" class="javadoc">getName</a>());
        <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/GenericServlet.html#log(java.lang.String)" class="javadoc">log</a>("User name: " + request.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getRemoteUser()" class="javadoc"><em>getRemoteUser</em></a>());
    }

    <span class="cmt">// <span class="abstract">...</span></span>
}
</code></pre><h4 class="subSecMiniHeadline">Role Checking</h4><p class="subSecExplanation">You can use <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#isUserInRole(java.lang.String)" class="javadoc">isUserInRole</a> to check whether the user is in the specified role. This code checks the user's roles:</p><pre class="subSecCode"><code><a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html" class="javadoc">HttpServletRequest</a> request = <span class="abstract">...</span>;
if ( request.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#isUserInRole(java.lang.String)" class="javadoc">isUserInRole</a>("root") || 
     (request.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#isUserInRole(java.lang.String)" class="javadoc">isUserInRole</a>("privileged") &amp;&amp;
      request.<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#isUserInRole(java.lang.String)" class="javadoc">isUserInRole</a>("merchandise")) ) {
    <span class="cmt">// <span class="abstract">user authenticated</span></span>
}
</code></pre><p class="subSecExplanation">By default, the argument to <a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#isUserInRole(java.lang.String)" class="javadoc">isUserInRole</a> is a <em>role decared in the <span class="idf">web.xml</span></em> deployment descriptor using <span class="tag">&lt;<a href="#" id="tl-d22757e10518" class="tooltip" onclick="return tlClick('tl-d22757e10518','pp-d22757e622');" onmouseover="return tlOver('tl-d22757e10518','pp-d22757e622');" onmouseout="return tlOut('tl-d22757e10518','pp-d22757e622');">security-role</a>&gt;</span> (see <a href="usermanagement.xhtml#usermanagement">user management</a>). If your servlet needs different names, it map the name in its declaration:</p><pre class="subSecConfig"><span class="tag">&lt;<a href="#" id="tl-d22757e10526" class="tooltip" onclick="return tlClick('tl-d22757e10526','pp-d22757e420');" onmouseover="return tlOver('tl-d22757e10526','pp-d22757e420');" onmouseout="return tlOut('tl-d22757e10526','pp-d22757e420');">servlet</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e10529" class="tooltip" onclick="return tlClick('tl-d22757e10529','pp-d22757e431');" onmouseover="return tlOver('tl-d22757e10529','pp-d22757e431');" onmouseout="return tlOut('tl-d22757e10529','pp-d22757e431');">servlet-name</a>&gt;</span>adminServlet<span class="tag">&lt;/<a href="#" id="tl-d22757e10532" class="tooltip" onclick="return tlClick('tl-d22757e10532','pp-d22757e431');" onmouseover="return tlOver('tl-d22757e10532','pp-d22757e431');" onmouseout="return tlOut('tl-d22757e10532','pp-d22757e431');">servlet-name</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e10534" class="tooltip" onclick="return tlClick('tl-d22757e10534','pp-d22757e436');" onmouseover="return tlOver('tl-d22757e10534','pp-d22757e436');" onmouseout="return tlOut('tl-d22757e10534','pp-d22757e436');">servlet-class</a>&gt;</span>com.jarfiller.example.AdminServlet<span class="tag">&lt;/<a href="#" id="tl-d22757e10537" class="tooltip" onclick="return tlClick('tl-d22757e10537','pp-d22757e436');" onmouseover="return tlOver('tl-d22757e10537','pp-d22757e436');" onmouseout="return tlOut('tl-d22757e10537','pp-d22757e436');">servlet-class</a>&gt;</span>
        
    <span class="tag">&lt;<a href="#" id="tl-d22757e10539" class="tooltip" onclick="return tlClick('tl-d22757e10539','pp-d22757e460');" onmouseover="return tlOver('tl-d22757e10539','pp-d22757e460');" onmouseout="return tlOut('tl-d22757e10539','pp-d22757e460');">security-role-ref</a>&gt;</span>
        <span class="tag">&lt;<a href="#" id="tl-d22757e10543" class="tooltip" onclick="return tlClick('tl-d22757e10543','pp-d22757e465');" onmouseover="return tlOver('tl-d22757e10543','pp-d22757e465');" onmouseout="return tlOut('tl-d22757e10543','pp-d22757e465');">role-name</a>&gt;</span>root<span class="tag">&lt;/<a href="#" id="tl-d22757e10546" class="tooltip" onclick="return tlClick('tl-d22757e10546','pp-d22757e465');" onmouseover="return tlOver('tl-d22757e10546','pp-d22757e465');" onmouseout="return tlOut('tl-d22757e10546','pp-d22757e465');">role-name</a>&gt;</span>          <span class="cmt">&lt;!-- the servlet's internal name --&gt;</span>
        <span class="tag">&lt;<a href="#" id="tl-d22757e10551" class="tooltip" onclick="return tlClick('tl-d22757e10551','pp-d22757e470');" onmouseover="return tlOver('tl-d22757e10551','pp-d22757e470');" onmouseout="return tlOut('tl-d22757e10551','pp-d22757e470');">role-link</a>&gt;</span>admin<span class="tag">&lt;/<a href="#" id="tl-d22757e10554" class="tooltip" onclick="return tlClick('tl-d22757e10554','pp-d22757e470');" onmouseover="return tlOver('tl-d22757e10554','pp-d22757e470');" onmouseout="return tlOut('tl-d22757e10554','pp-d22757e470');">role-link</a>&gt;</span>         <span class="cmt">&lt;!-- the application's name in <span class="idf">&lt;security-role&gt;</span> --&gt;</span>
    <span class="tag">&lt;/<a href="#" id="tl-d22757e10562" class="tooltip" onclick="return tlClick('tl-d22757e10562','pp-d22757e460');" onmouseover="return tlOver('tl-d22757e10562','pp-d22757e460');" onmouseout="return tlOut('tl-d22757e10562','pp-d22757e460');">security-role-ref</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e10564" class="tooltip" onclick="return tlClick('tl-d22757e10564','pp-d22757e460');" onmouseover="return tlOver('tl-d22757e10564','pp-d22757e460');" onmouseout="return tlOut('tl-d22757e10564','pp-d22757e460');">security-role-ref</a>&gt;</span>
        <span class="tag">&lt;<a href="#" id="tl-d22757e10567" class="tooltip" onclick="return tlClick('tl-d22757e10567','pp-d22757e465');" onmouseover="return tlOver('tl-d22757e10567','pp-d22757e465');" onmouseout="return tlOut('tl-d22757e10567','pp-d22757e465');">role-name</a>&gt;</span>privileged<span class="tag">&lt;/<a href="#" id="tl-d22757e10570" class="tooltip" onclick="return tlClick('tl-d22757e10570','pp-d22757e465');" onmouseover="return tlOver('tl-d22757e10570','pp-d22757e465');" onmouseout="return tlOut('tl-d22757e10570','pp-d22757e465');">role-name</a>&gt;</span>    <span class="cmt">&lt;!-- the servlet's internal name --&gt;</span>
        <span class="tag">&lt;<a href="#" id="tl-d22757e10575" class="tooltip" onclick="return tlClick('tl-d22757e10575','pp-d22757e470');" onmouseover="return tlOver('tl-d22757e10575','pp-d22757e470');" onmouseout="return tlOut('tl-d22757e10575','pp-d22757e470');">role-link</a>&gt;</span>super-user<span class="tag">&lt;/<a href="#" id="tl-d22757e10579" class="tooltip" onclick="return tlClick('tl-d22757e10579','pp-d22757e470');" onmouseover="return tlOver('tl-d22757e10579','pp-d22757e470');" onmouseout="return tlOut('tl-d22757e10579','pp-d22757e470');">role-link</a>&gt;</span>    <span class="cmt">&lt;!-- the application's name in <span class="idf">&lt;security-role&gt;</span> --&gt;</span>
    <span class="tag">&lt;/<a href="#" id="tl-d22757e10586" class="tooltip" onclick="return tlClick('tl-d22757e10586','pp-d22757e460');" onmouseover="return tlOver('tl-d22757e10586','pp-d22757e460');" onmouseout="return tlOut('tl-d22757e10586','pp-d22757e460');">security-role-ref</a>&gt;</span>
    <span class="tag">&lt;<a href="#" id="tl-d22757e10588" class="tooltip" onclick="return tlClick('tl-d22757e10588','pp-d22757e460');" onmouseover="return tlOver('tl-d22757e10588','pp-d22757e460');" onmouseout="return tlOut('tl-d22757e10588','pp-d22757e460');">security-role-ref</a>&gt;</span>
        <span class="tag">&lt;<a href="#" id="tl-d22757e10591" class="tooltip" onclick="return tlClick('tl-d22757e10591','pp-d22757e465');" onmouseover="return tlOver('tl-d22757e10591','pp-d22757e465');" onmouseout="return tlOut('tl-d22757e10591','pp-d22757e465');">role-name</a>&gt;</span>merchandise<span class="tag">&lt;/<a href="#" id="tl-d22757e10594" class="tooltip" onclick="return tlClick('tl-d22757e10594','pp-d22757e465');" onmouseover="return tlOver('tl-d22757e10594','pp-d22757e465');" onmouseout="return tlOut('tl-d22757e10594','pp-d22757e465');">role-name</a>&gt;</span>   <span class="cmt">&lt;!-- the servlet's internal name --&gt;</span>
        <span class="tag">&lt;<a href="#" id="tl-d22757e10600" class="tooltip" onclick="return tlClick('tl-d22757e10600','pp-d22757e470');" onmouseover="return tlOver('tl-d22757e10600','pp-d22757e470');" onmouseout="return tlOut('tl-d22757e10600','pp-d22757e470');">role-link</a>&gt;</span>merch-user<span class="tag">&lt;/<a href="#" id="tl-d22757e10603" class="tooltip" onclick="return tlClick('tl-d22757e10603','pp-d22757e470');" onmouseover="return tlOver('tl-d22757e10603','pp-d22757e470');" onmouseout="return tlOut('tl-d22757e10603','pp-d22757e470');">role-link</a>&gt;</span>    <span class="cmt">&lt;!-- the application's name in <span class="idf">&lt;security-role&gt;</span> --&gt;</span>
    <span class="tag">&lt;/<a href="#" id="tl-d22757e10610" class="tooltip" onclick="return tlClick('tl-d22757e10610','pp-d22757e460');" onmouseover="return tlOver('tl-d22757e10610','pp-d22757e460');" onmouseout="return tlOut('tl-d22757e10610','pp-d22757e460');">security-role-ref</a>&gt;</span>
<span class="tag">&lt;/<a href="#" id="tl-d22757e10612" class="tooltip" onclick="return tlClick('tl-d22757e10612','pp-d22757e420');" onmouseover="return tlOver('tl-d22757e10612','pp-d22757e420');" onmouseout="return tlOut('tl-d22757e10612','pp-d22757e420');">servlet</a>&gt;</span>
				</pre></div></div><div class="yahbar"><div class="yahprev"><a href="requiringssl.xhtml">Prev<br/><span>How to Require HTTPS / SSL</span></a></div><div class="yahhere"><a href="#" onclick="return navToggle();">Servlet 2.5 Guide / How to... Sessions and Security</a><br/><a href="/guide/servlet25/"><span>Single Page Mode</span></a>, <a href="#" onclick="return navToggle();"><span>Show Table of Content</span></a></div><div class="yahnext"><a href="cookielessessions.xhtml">Next<br/><span>How to Use HttpSessions and Authentication without Cookies?</span></a></div></div></div><div id="sidecolumn">
    	<div><h3>Useful Links</h3><div class="sidecolumnSubTitleLine"/>
	  			<a href="http://java.sun.com/products/servlet/">Servlet Homepage</a><br/>
	  			<a href="http://en.wikipedia.org/wiki/Java_Servlet">Servlet on Wikipedia</a><br/>
	  			<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/package-summary.html">javax.servlet API Docs</a><br/>
	  			<a href="http://java.sun.com/javaee/5/docs/api/javax/servlet/package-summary.html">javax.servlet.http API Docs</a><br/>
	  			<a href="http://jcp.org/aboutJava/communityprocess/mrel/jsr154/index2.html">Servlet 2.5 Specification</a><br/>
	  		</div>
  		
  		<div><h3>Related Documents</h3><div class="sidecolumnSubTitleLine">(on Jarfiller.com)</div>
	  			<a href="/reference/webxml2x/">Web.xml Reference</a><br/>
	  		</div>
  	
  </div></div></div><div id="footer"><div id="footer-content"><div id="footer-left"><div class="footerLine"><a href="/">Home</a> - <a href="/about">About Jarfiller</a> - <a href="/imprint.xhtml">Imprint</a></div><div class="footerLine">Please send feedback and corrections to <a href="mailto:tim@tjansen.de">tim@<span style="display: none">got you</span>tjansen.de</a>.</div><div class="footerLine"><a href="http://www.twitter.com/timjansen">Follow</a> me on Twitter.</div><div class="copyrightLine">Â© 2010 Tim Jansen; content licensed under <a href="http://creativecommons.org/licenses/by/3.0/us/">cc-by</a>; example source code is public domain
				</div></div><div id="footer-right"><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="../../images/ext/cc-by-88x31.png"/></a></div></div></div><div id="navbar" onclick="return navToggle();" onmouseover="document.getElementById('navbar').className='mouseover';" onmouseout="document.getElementById('navbar').className='';"/><div id="navcontainer"><div id="navlinks"><div id="navclosebar"><a href="#" onclick="return navClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="navpositionbar" class="navpositionbar"/><h2 id="navtitle">Servlet 2.5 Guide</h2><a id="nav_overview" class="navseclink" href="overview.xhtml#overview">Overview</a><a id="nav_intro" class="navsublink" href="overview.xhtml#intro">Intro</a><a id="nav_usecases" class="navsublink" href="overview.xhtml#usecases">When should you write a Servlet?</a><a id="nav_requirements" class="navsublink" href="overview.xhtml#requirements">What do you need for Servlets?</a><a id="nav_containers" class="navsublink" href="overview.xhtml#containers">Which container supports which Servlet / JEE version?</a><a id="nav_httpintro" class="navsublink" href="overview.xhtml#httpintro">Short HTTP Introduction</a><a id="nav_servlets" class="navseclink" href="servlets.xhtml#servlets">Servlets</a><a id="nav_servletintro" class="navsublink" href="servlets.xhtml#servletintro">Servlet Intro</a><a id="nav_classoverview" class="navsublink" href="servlets.xhtml#classoverview">Class Overview</a><a id="nav_servletclass" class="navsublink" href="servlets.xhtml#servletclass">Servlet Class</a><a id="nav_servicemethods" class="navsublink" href="servlets.xhtml#servicemethods">Service Dispatching in the HttpServlet</a><a id="nav_lifecycle" class="navsublink" href="servlets.xhtml#lifecycle">The Servlet Lifecycle</a><a id="nav_multithreading" class="navsublink" href="servlets.xhtml#multithreading">Multithreading</a><a id="nav_twothreadsafeways" class="navsublink" href="servlets.xhtml#twothreadsafeways">Two Simple Ways to Write Thread-Safe Servlets</a><a id="nav_webapplications" class="navsublink" href="servlets.xhtml#webapplications">Web Applications</a><a id="nav_webxml" class="navsublink" href="servlets.xhtml#webxml">web.xml</a><a id="nav_applayout" class="navsublink" href="servlets.xhtml#applayout">Example Application Layout</a><a id="nav_contextroot" class="navsublink" href="servlets.xhtml#contextroot">Context Root</a><a id="nav_staticcontent" class="navsublink" href="servlets.xhtml#staticcontent">Static Content</a><a id="nav_eclipse" class="navsublink" href="servlets.xhtml#eclipse">How to Create a Web Application with Eclipse</a><a id="nav_ant" class="navsublink" href="servlets.xhtml#ant">How to Create a Web Application (WAR) with Ant</a><a id="nav_tomcat" class="navsublink" href="servlets.xhtml#tomcat">How to Deploy a Web Application on Tomcat</a><a id="nav_responses" class="navseclink" href="responses.xhtml#responses">Responses</a><a id="nav_textoutput" class="navsublink" href="responses.xhtml#textoutput">Text Output</a><a id="nav_responsebinary" class="navsublink" href="responses.xhtml#responsebinary">Binary Output</a><a id="nav_buffering" class="navsublink" href="responses.xhtml#buffering">Buffering and Committing</a><a id="nav_errors" class="navsublink" href="responses.xhtml#errors">Error Code</a><a id="nav_redirection" class="navsublink" href="responses.xhtml#redirection">Redirection</a><a id="nav_requests" class="navseclink" href="requests.xhtml#requests">Requests</a><a id="nav_reqparameters" class="navsublink" href="requests.xhtml#reqparameters">Request Parameters</a><a id="nav_parameternames" class="navsublink" href="requests.xhtml#parameternames">How to find out which parameters have been sent</a><a id="nav_headers" class="navsublink" href="requests.xhtml#headers">How to read header values</a><a id="nav_paths" class="navsublink" href="requests.xhtml#paths">Paths</a><a id="nav_sessionsandcookies" class="navseclink" href="sessionsandcookies.xhtml#sessionsandcookies">Sessions and Cookies</a><a id="nav_cookies" class="navsublink" href="sessionsandcookies.xhtml#cookies">Cookies</a><a id="nav_sessions" class="navsublink" href="sessionsandcookies.xhtml#sessions">Sessions</a><a id="nav_distributablesessions" class="navsublink" href="sessionsandcookies.xhtml#distributablesessions">Sessions in Distributed Servers (Clusters)</a><a id="nav_sessioncaveat" class="navsublink" href="sessionsandcookies.xhtml#sessioncaveat">Be Careful When Using HttpSession</a><a id="nav_resources" class="navseclink" href="resources.xhtml#resources">Resources</a><a id="nav_resourceannotations" class="navsublink" href="resources.xhtml#resourceannotations">Resource Annotations</a><a id="nav_jndilookup" class="navsublink" href="resources.xhtml#jndilookup">How to get resources with JNDI</a><a id="nav_tomcatresources" class="navsublink" href="resources.xhtml#tomcatresources">How to Provide Resources in Tomcat</a><span class="navseclink">How to... Requests and Responses</span><a id="nav_customheaders" class="navsublink" href="customheaders.xhtml#customheaders">How to Read and Write Additional Headers</a><a id="nav_attributes" class="navsublink" href="attributes.xhtml#attributes">How to Use Attributes in Request and Context</a><a id="nav_getlastmodified" class="navsublink" href="getlastmodified.xhtml#getlastmodified">How to Use HttpServlet.getLastModified to Improve Client-Side Caching</a><a id="nav_contentlength" class="navsublink" href="contentlength.xhtml#contentlength">How to Set the Content Length</a><a id="nav_fileupload" class="navsublink" href="fileupload.xhtml#fileupload">How to Receive File Uploads (Multi-Part File Upload)</a><a id="nav_browserdetection" class="navsublink" href="browserdetection.xhtml#browserdetection">How to Detect the User's Web Browser</a><a id="nav_contentlanguage" class="navsublink" href="contentlanguage.xhtml#contentlanguage">How to Declare the Content Language</a><a id="nav_acceptedlanguages" class="navsublink" href="acceptedlanguages.xhtml#acceptedlanguages">How to Detect the Client's Preferred Languages</a><a id="nav_sendingxml" class="navsublink" href="sendingxml.xhtml#sendingxml">How to Send XML as Response</a><a id="nav_dynamicimages" class="navsublink" href="dynamicimages.xhtml#dynamicimages">How to Generate Images as Response</a><a id="nav_jspforward" class="navsublink" href="jspforward.xhtml#jspforward">How to Use a JSP as Template</a><a id="nav_requestdispatcher" class="navsublink" href="requestdispatcher.xhtml#requestdispatcher">How to Invoke Servlets and JSPs with the RequestDispatcher</a><a id="nav_virtualhosts" class="navsublink" href="virtualhosts.xhtml#virtualhosts">How to Handle Virtual Hosts and Multiple IP Addresses?</a><a id="nav_filters" class="navsublink" href="filters.xhtml#filters">How to Write Filters</a><span class="navseclink">How to... Sessions and Security</span><a id="nav_usermanagement" class="navsublink" href="usermanagement.xhtml#usermanagement">How to Authenticate and Manage Users</a><a id="nav_declarativesecurity" class="navsublink" href="declarativesecurity.xhtml#declarativesecurity">How to Restrict Access to a Web Application (Declarative Security)</a><a id="nav_requiringssl" class="navsublink" href="requiringssl.xhtml#requiringssl">How to Require HTTPS / SSL</a><a id="nav_programmaticsecurity" class="navsublink" href="programmaticsecurity.xhtml#programmaticsecurity">How to Use Authentication Data in Servlets</a><a id="nav_cookielessessions" class="navsublink" href="cookielessessions.xhtml#cookielessessions">How to Use HttpSessions and Authentication without Cookies?</a><span class="navseclink">How to... General</span><a id="nav_addinglibraries" class="navsublink" href="addinglibraries.xhtml#addinglibraries">How to Add Libraries to a Web Application / WAR</a><a id="nav_addingresourcefiles" class="navsublink" href="addingresourcefiles.xhtml#addingresourcefiles">How to Read Files Contained in a Web Application / WAR</a><a id="nav_throwingexceptions" class="navsublink" href="throwingexceptions.xhtml#throwingexceptions">How to Throw Exceptions in Servlets</a><a id="nav_initparameters" class="navsublink" href="initparameters.xhtml#initparameters">Configure your Servlet with Initialization Parameters</a><a id="nav_logging" class="navsublink" href="logging.xhtml#logging">How to Log</a><a id="nav_errorpages" class="navsublink" href="errorpages.xhtml#errorpages">How to Replace the Default Error Page</a><a id="nav_temporarydirectory" class="navsublink" href="temporarydirectory.xhtml#temporarydirectory">How to Get a Temporary Directory</a><a id="nav_ejbinvocation" class="navsublink" href="ejbinvocation.xhtml#ejbinvocation">How to Access an EJB</a><a id="nav_distributedapps" class="navsublink" href="distributedapps.xhtml#distributedapps">How to Create a Distributed Application</a><a id="nav_listeners" class="navsublink" href="listeners.xhtml#listeners">How to Be Notified about Events (Listeners)</a><a id="nav_servlet24" class="navsublink" href="servlet24.xhtml#servlet24">New Features Since Servlet API 2.4</a><a id="nav_andnow" class="navseclink" href="andnow.xhtml#andnow">And now...?</a><a id="nav_nextsteps" class="navsublink" href="andnow.xhtml#nextsteps">Next Steps</a></div></div><div id="popups"><div id="pp-d22757e10331" class="tooltip">The Servlet API specifies several authentication modes (described above), but they all prompt the user only for authentication when the user has not authenticated yet and tries to access a restricted resource. <em>Without restricted resources users can not log in</em> and thus servlets won't get any authentication data.</div><div id="pp-d22757e10352" class="tooltip">The Principal class is very simple and offers you nothing more than the user's name (which you can easily get with <span class="idf">getRemoteUser</span>). Web containers may return a sub-class of <span class="idf">Principal</span> offering additional information, but this is container-specific.</div><div id="pp-d22757e420" class="tooltip">Declares a servlet, either in the form of a class implementing the <span class="idf">Servlet</span> interface or as a JSP page. The URL mapping must be declared in one or more <span class="idf">&lt;servlet-mapping&gt;</span> elements. Optional, more than one allowed.</div><div id="pp-d22757e431" class="tooltip">The name of the servlet. Must be unique in the descriptor, and will be referenced by <span class="idf">&lt;servlet-mapping&gt;</span> elements. Required.</div><div id="pp-d22757e436" class="tooltip">The name of the class that implements the <span class="idf">Servlet</span> interface. Required if <span class="idf">&lt;jsp-file&gt;</span> is not present.</div><div id="pp-d22757e460" class="tooltip">Declares a role name that the servlet can use when checking the user's permissions with <span class="idf">HttpServletRequest.isUserInRole</span>. Optional, more than one allowed.</div><div id="pp-d22757e465" class="tooltip">The name of the role to declare. This is the role that the servlet passes to <span class="idf">HttpServletRequest.isUserInRole</span>. Required.</div><div id="pp-d22757e470" class="tooltip">The name of role declared with a <span class="idf">&lt;security-role&gt;</span> that <span class="idf">&lt;security-role-ref&gt;</span>refers to. If not specified, the container will ask the deployer for a role. Optional.</div><div id="pp-d22757e622" class="tooltip">Specifies one security role which can be referred to by a <span class="idf">&lt;security-constraint&gt;</span> or <span class="idf">&lt;servlet&gt;</span>. All further configuration of the role, such as which users are in that role, must be done in the web container. Repeat to define several roles. Optional, more than one allowed.</div><div id="pp-d22757e630" class="tooltip">The name of the role to define. Must follow NMTOKEN rules (in short: only alphanumeric characters, '.', '-' and '_', <em>no spaces</em>). Referred to by <span class="idf">&lt;security-constraint&gt;</span> or <span class="idf">&lt;servlet&gt;</span>. You need to define the role in the web container as well. Required.</div><div id="ttCloseBar" class="closeBar"><a href="#" onclick="return tlClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="topicCloseBar" class="closeBar"><a href="#" onclick="return tpcClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div></div></body></html>