<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:page="http://tjansen.de/refPage" xmlns:i="http://tjansen.de/internal"><head><title>Message Types - JMS Guide</title><meta http-equiv="X-UA-Compatible" content="chrome=1"/><meta http-equiv="content-language" content="en"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="stylesheet" type="text/css" href="../../style/style.css"/><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-6791190-2']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
})();
</script><script type="text/javascript" src="../../js/all.js"/></head><body id="body"><div id="visibleContent"><div id="top"><a href="/"><img src="../../images/titlebar.png" alt="Jarfiller.com"/></a></div><div id="main"><div id="bodycolumn"><div class="yahbar"><div class="yahprev"><a href="topics.xhtml">Prev</a></div><h3 class="yahhere"><a href="#" onclick="return navToggle();">JMS Guide / Message Types</a></h3><div class="yahnext"><a href="messageheaders.xhtml">Next</a></div></div><h1 id="sec_messagetypes" class="multipageTitle"><a name="messagetypes">Message Types</a></h1><div class="subSecRow2" id="sec_textmessages"><div class="subSecHead" id="sechd_textmessages"><a name="textmessages">TextMessage</a></div><div class="subSecContent" id="seccnt_textmessages"><p class="subSecExplanation">The <a href="http://java.sun.com/javaee/5/docs/api/javax/jms/TextMessage.html" class="javadoc">TextMessage</a> contains <em>a string</em>. If you want to communicate with non-JMS systems, text messages are often the right choice (with XML in a <a href="http://java.sun.com/javaee/5/docs/api/javax/jms/BytesMessage.html" class="javadoc">BytesMessage</a> being the main alternative), as they are supported almost everywhere and are not JMS- or Java-specific.</p><pre class="subSecCode"><code><span class="cmt">// Create message</span>
<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Session.html" class="javadoc">Session</a> session = <span class="abstract">...</span>;
<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/TextMessage.html" class="javadoc">TextMessage</a> msg = session.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Session.html#createTextMessage(java.lang.String)" class="javadoc"><em>createTextMessage</em></a>("some text here");

<span class="cmt">// Read message</span>
String text = msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/TextMessage.html#getText()" class="javadoc">getText</a>();
</code></pre></div></div><div class="subSecRow1" id="sec_mapmessages"><div class="subSecHead" id="sechd_mapmessages"><a name="mapmessages">MapMessage</a></div><div class="subSecContent" id="seccnt_mapmessages"><p class="subSecExplanation">The <a href="http://java.sun.com/javaee/5/docs/api/javax/jms/MapMessage.html" class="javadoc">MapMessage</a> allows you to store <em>name/value pairs</em>. The names are always strings, and the values can be either Java primitives, strings or byte arrays. The pairs do not have an order.</p><pre class="subSecCode"><code><span class="cmt">// Create message</span>
<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Session.html" class="javadoc">Session</a> session = <span class="abstract">...</span>;
<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/MapMessage.html" class="javadoc">MapMessage</a> msg = session.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Session.html#createMapMessage()" class="javadoc"><em>createMapMessage</em></a>();
msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/MapMessage.html#setString(java.lang.String, java.lang.String)" class="javadoc">setString</a>("title", "Thriller");
msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/MapMessage.html#setInt(java.lang.String, int)" class="javadoc">setInt</a>("releaseYear", 1982);
msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/MapMessage.html#setDouble(java.lang.String, double)" class="javadoc">setDouble</a>("millionsSold", 110.3);

<span class="cmt">// Read message</span>
int releaseYear = msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/MapMessage.html#getInt(java.lang.String)" class="javadoc">getInt</a>("releaseYear");  <span class="cmt">// can be read in any order</span>
String title = msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/MapMessage.html#getString(java.lang.String)" class="javadoc">getString</a>("title");
double millionsSold = msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/MapMessage.html#getDouble(java.lang.String)" class="javadoc">getDouble</a>("millionsSold");
</code></pre></div></div><div class="subSecRow2" id="sec_streammessages"><div class="subSecHead" id="sechd_streammessages"><a name="streammessages">StreamMessage</a></div><div class="subSecContent" id="seccnt_streammessages"><p class="subSecExplanation">The <a href="http://java.sun.com/javaee/5/docs/api/javax/jms/StreamMessage.html" class="javadoc">StreamMessage</a> allows you to store a <em>stream of Java number and string values</em>. When received, the values must be read in exactly the same order as they have been written. </p><pre class="subSecCode"><code><span class="cmt">// Create message</span>
<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Session.html" class="javadoc">Session</a> session = <span class="abstract">...</span>;
<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/StreamMessage.html" class="javadoc">StreamMessage</a> msg = session.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Session.html#createStreamMessage()" class="javadoc"><em>createStreamMessage</em></a>();
msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/StreamMessage.html#setString(java.lang.String)" class="javadoc">writeString</a>("Thriller");
msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/StreamMessage.html#setInt(int)" class="javadoc">writeInt</a>(1982);
msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/StreamMessage.html#setDouble(double)" class="javadoc">writeDouble</a>(110.3);

<span class="cmt">// Read message</span>
String title = msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/StreamMessage.html#getString()" class="javadoc">readString</a>();  <span class="cmt">// must be read <em>in the same order as written</em></span>
int releaseYear = msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/StreamMessage.html#getInt()" class="javadoc">readInt</a>();
double millionsSold = msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/StreamMessage.html#getDouble()" class="javadoc">readDouble</a>();
</code></pre></div></div><div class="subSecRow1" id="sec_objectmessages"><div class="subSecHead" id="sechd_objectmessages"><a name="objectmessages">ObjectMessage</a></div><div class="subSecContent" id="seccnt_objectmessages"><p class="subSecExplanation">The <a href="http://java.sun.com/javaee/5/docs/api/javax/jms/ObjectMessage.html" class="javadoc">ObjectMessage</a> allows you to store any <em><a href="#" id="tl-d18684e2346" class="dottedTooltip" onclick="return tlClick('tl-d18684e2346','pp-d18684e2349');" onmouseover="return tlOver('tl-d18684e2346','pp-d18684e2349');" onmouseout="return tlOut('tl-d18684e2346','pp-d18684e2349');">serializable Java object</a></em>. </p><pre class="subSecCode"><code><span class="cmt">// Create message</span>
<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Session.html" class="javadoc">Session</a> session = <span class="abstract">...</span>;
<a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html" class="javadoc">Date</a> obj = new <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html" class="javadoc">Date</a>();  <span class="cmt">// the object to send</span>
<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/ObjectMessage.html" class="javadoc">ObjectMessage</a> msg = session.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Session.html#createObjectMessage(java.io.Serializable)" class="javadoc"><em>createObjectMessage</em></a>(obj);

<span class="cmt">// Read message</span>
<a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html" class="javadoc">Date</a> d = (<a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html" class="javadoc">Date</a>) msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/ObjectMessage.html#getObject()" class="javadoc">getObject</a>();
</code></pre></div></div><div class="subSecRow2" id="sec_bytesmessages"><div class="subSecHead" id="sechd_bytesmessages"><a name="bytesmessages">BytesMessage</a></div><div class="subSecContent" id="seccnt_bytesmessages"><p class="subSecExplanation">The <a href="http://java.sun.com/javaee/5/docs/api/javax/jms/BytesMessage.html" class="javadoc">BytesMessage</a> is the raw equivalent of the <a href="http://java.sun.com/javaee/5/docs/api/javax/jms/StreamMessage.html" class="javadoc">StreamMessage</a>. It allows you to write the bytes directly in a server-specific format. Its mostly useful for <em>transmitting byte arrays</em>. </p><pre class="subSecCode"><code><span class="cmt">// Create message</span>
<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Session.html" class="javadoc">Session</a> session = <span class="abstract">...</span>;
byte[] blob = <span class="abstract">...</span>;  <span class="cmt">// any binary data</span>
<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/BytesMessage.html" class="javadoc">BytesMessage</a> msg = session.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Session.html#createBytesMessage()" class="javadoc"><em>createBytesMessage</em></a>();
msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/BytesMessage.html#writeBytes(byte[])" class="javadoc">writeBytes</a>(blob);

<span class="cmt">// Read message</span>
byte[] newBlob = new byte[(int) msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/BytesMessage.html#getBodyLength()" class="javadoc">getBodyLength</a>()];
msg.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/BytesMessage.html#readBytes(byte[])" class="javadoc">readBytes</a>();
</code></pre></div></div><div class="subSecRow1" id="sec_emptymessages"><div class="subSecHead" id="sechd_emptymessages"><a name="emptymessages">Empty Messages</a></div><div class="subSecContent" id="seccnt_emptymessages"><p class="subSecExplanation">It is also possible to create untyped messages without content (they may still contain header data and properties). This may be useful, for example, if the message should only trigger an action and does not need any additional data. </p><pre class="subSecCode"><code><a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Session.html" class="javadoc">Session</a> session = <span class="abstract">...</span>;
<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Message.html" class="javadoc">Message</a> msg = session.<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/Session.html#createMessage()" class="javadoc"><em>createMessage</em></a>();
</code></pre></div></div><div class="yahbar"><div class="yahprev"><a href="topics.xhtml">Prev<br/><span>Using Topics</span></a></div><div class="yahhere"><a href="#" onclick="return navToggle();">JMS Guide / Message Types</a><br/><a href="/guide/jms/"><span>Single Page Mode</span></a>, <a href="#" onclick="return navToggle();"><span>Show Table of Content</span></a></div><div class="yahnext"><a href="messageheaders.xhtml">Next<br/><span>How to use Message Headers</span></a></div></div></div><div id="sidecolumn">
    	<div><h3>Useful Links</h3><div class="sidecolumnSubTitleLine"/>
  			<a href="http://java.sun.com/products/jms/">JMS Homepage</a><br/>
  			<a href="http://en.wikipedia.org/wiki/Java_Message_Service">JMS on Wikipedia</a><br/>
  			<a href="http://java.sun.com/javaee/5/docs/api/javax/jms/package-summary.html">javax.jms API Docs</a><br/>
  			<a href="http://java.sun.com/products/jms/docs.html">JMS Specification</a><br/>
  		</div>
  </div></div></div><div id="footer"><div id="footer-content"><div id="footer-left"><div class="footerLine"><a href="/">Home</a> - <a href="/about">About Jarfiller</a> - <a href="/imprint.xhtml">Imprint</a></div><div class="footerLine">Please send feedback and corrections to <a href="mailto:tim@tjansen.de">tim@<span style="display: none">got you</span>tjansen.de</a>.</div><div class="footerLine"><a href="http://www.twitter.com/timjansen">Follow</a> me on Twitter.</div><div class="copyrightLine">© 2010 Tim Jansen; content licensed under <a href="http://creativecommons.org/licenses/by/3.0/us/">cc-by</a>; example source code is public domain
				</div></div><div id="footer-right"><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="../../images/ext/cc-by-88x31.png"/></a></div></div></div><div id="navbar" onclick="return navToggle();" onmouseover="document.getElementById('navbar').className='mouseover';" onmouseout="document.getElementById('navbar').className='';"/><div id="navcontainer"><div id="navlinks"><div id="navclosebar"><a href="#" onclick="return navClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="navpositionbar" class="navpositionbar"/><h2 id="navtitle">JMS Guide</h2><a id="nav_jmsoverview" class="navseclink" href="jmsoverview.xhtml#jmsoverview">Overview</a><a id="nav_intro" class="navsublink" href="jmsoverview.xhtml#intro">Intro</a><a id="nav_usecases" class="navsublink" href="jmsoverview.xhtml#usecases">When should JMS be used?</a><a id="nav_requirements" class="navsublink" href="jmsoverview.xhtml#requirements">What do you need for JMS?</a><a id="nav_destinations" class="navsublink" href="jmsoverview.xhtml#destinations">Destinations</a><a id="nav_standaloneclient" class="navseclink" href="standaloneclient.xhtml#standaloneclient">Sending and Receiving Messages (Standalone Client)</a><a id="nav_sending" class="navsublink" href="standaloneclient.xhtml#sending">Sending a message</a><a id="nav_polling" class="navsublink" href="standaloneclient.xhtml#polling">Polling for messages</a><a id="nav_messagelistener" class="navsublink" href="standaloneclient.xhtml#messagelistener">Using a MessageListener</a><a id="nav_jndi" class="navsublink" href="standaloneclient.xhtml#jndi">Getting the ConnectionFactory via JNDI</a><a id="nav_activemqsetup" class="navsublink" href="standaloneclient.xhtml#activemqsetup">How to set up ActiveMQ</a><a id="nav_webspheremqsetup" class="navsublink" href="standaloneclient.xhtml#webspheremqsetup">How to set up Websphere MQ</a><a id="nav_sendingreceivingejb3" class="navseclink" href="sendingreceivingejb3.xhtml#sendingreceivingejb3">Sending and Receiving Messages in EJB 3 Applications</a><a id="nav_sendingejb3" class="navsublink" href="sendingreceivingejb3.xhtml#sendingejb3">Sending Messages</a><a id="nav_receivingejb3" class="navsublink" href="sendingreceivingejb3.xhtml#receivingejb3">Receiving messages</a><a id="nav_jbosssetup" class="navsublink" href="sendingreceivingejb3.xhtml#jbosssetup">How to set up JBoss 5.x</a><a id="nav_topics" class="navseclink" href="topics.xhtml#topics">Using Topics</a><a id="nav_sendingtopics" class="navsublink" href="topics.xhtml#sendingtopics">Sending Topic Messages</a><a id="nav_receivingtopics" class="navsublink" href="topics.xhtml#receivingtopics">Receiving Topic Messages</a><a id="nav_durablesubscription" class="navsublink" href="topics.xhtml#durablesubscription">Durable Subscription</a><a id="nav_endingsubscription" class="navsublink" href="topics.xhtml#endingsubscription">Cancelling a subscription</a><a id="nav_messagetypes" class="navseclink" href="#messagetypes" onclick="if (event.button == 0) return goTo('#messagetypes', true); else return true;">Message Types</a><a id="nav_textmessages" class="navsublink" href="#textmessages" onclick="if (event.button == 0) return goTo('#textmessages', true); else return true;">TextMessage</a><a id="nav_mapmessages" class="navsublink" href="#mapmessages" onclick="if (event.button == 0) return goTo('#mapmessages', true); else return true;">MapMessage</a><a id="nav_streammessages" class="navsublink" href="#streammessages" onclick="if (event.button == 0) return goTo('#streammessages', true); else return true;">StreamMessage</a><a id="nav_objectmessages" class="navsublink" href="#objectmessages" onclick="if (event.button == 0) return goTo('#objectmessages', true); else return true;">ObjectMessage</a><a id="nav_bytesmessages" class="navsublink" href="#bytesmessages" onclick="if (event.button == 0) return goTo('#bytesmessages', true); else return true;">BytesMessage</a><a id="nav_emptymessages" class="navsublink" href="#emptymessages" onclick="if (event.button == 0) return goTo('#emptymessages', true); else return true;">Empty Messages</a><span class="navseclink">How to...</span><a id="nav_messageheaders" class="navsublink" href="messageheaders.xhtml#messageheaders">How to use Message Headers</a><a id="nav_messageproperties" class="navsublink" href="messageproperties.xhtml#messageproperties">How to read and set Message Properties</a><a id="nav_selectors" class="navsublink" href="selectors.xhtml#selectors">How to use Message Selectors to filter messages</a><a id="nav_xml" class="navsublink" href="xml.xhtml#xml">How to send and receive XML messages with DOM or JAXB</a><a id="nav_achknowledgement" class="navsublink" href="achknowledgement.xhtml#achknowledgement">How to control acknowledgement</a><a id="nav_browsing" class="navsublink" href="browsing.xhtml#browsing">How to browse the messages in a queue</a><a id="nav_authentication" class="navsublink" href="authentication.xhtml#authentication">How to authenticate a connection</a><a id="nav_temporaryqueues" class="navsublink" href="temporaryqueues.xhtml#temporaryqueues">How to Create Temporary Queues or Topics</a><a id="nav_requestresponse" class="navsublink" href="requestresponse.xhtml#requestresponse">How to send a response to a message (Request/Reply)</a><a id="nav_deliveryoptions" class="navsublink" href="deliveryoptions.xhtml#deliveryoptions">How to Control Message Delivery (Delivery Mode, Time-to-live and Priority)</a><a id="nav_activationproperties" class="navsublink" href="activationproperties.xhtml#activationproperties">How to Configure a Message-Driven Bean (Activation Properties, Durable Subscriptions)</a><a id="nav_concurrency" class="navsublink" href="concurrency.xhtml#concurrency">How to use JMS in multi-threaded applications</a><a id="nav_classes10" class="navsublink" href="classes10.xhtml#classes10">How to Use QueueConnectionFactory, QueueConnection, QueueSession...</a><a id="nav_andnow" class="navseclink" href="andnow.xhtml#andnow">And now...?</a><a id="nav_nextsteps" class="navsublink" href="andnow.xhtml#nextsteps">Next Steps</a></div></div><div id="popups"><div id="pp-d18684e2349" class="tooltip">'serializable' means that it implements Java's <span class="idf">Serializable</span> interface and follows the usual rules for serialization.</div><div id="ttCloseBar" class="closeBar"><a href="#" onclick="return tlClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="topicCloseBar" class="closeBar"><a href="#" onclick="return tpcClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div></div></body></html>