<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:page="http://tjansen.de/refPage" xmlns:i="http://tjansen.de/internal"><head><title>How to Seal Packages in a JAR - Java Basics: JAR Files</title><meta http-equiv="X-UA-Compatible" content="chrome=1"/><meta http-equiv="content-language" content="en"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="stylesheet" type="text/css" href="../../style/style.css"/><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-6791190-2']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
})();
</script><script type="text/javascript" src="../../js/all.js"/></head><body id="body"><div id="visibleContent"><div id="top"><a href="/"><img src="../../images/titlebar.png" alt="Jarfiller.com"/></a></div><div id="main"><div id="bodycolumn"><div class="yahbar"><div class="yahprev"><a href="perentry.xhtml">Prev</a></div><h3 class="yahhere"><a href="#" onclick="return navToggle();">Java Basics: JAR Files / How to...</a></h3><div class="yahnext"><a href="jarmetadata.xhtml">Next</a></div></div><h1 id="sec_howto" class="multipageTitle">How to Seal Packages in a JAR</h1><div class="subSecRow1" id="sec_sealing"><div class="subSecHead" id="sechd_sealing"><a name="sealing">Sealing</a></div><div class="subSecContent" id="seccnt_sealing"><p class="subSecExplanation"><span class="idf">Sealing</span> a package means that <em>the JAR is the only source for classes of the package</em>. A <a href="http://java.sun.com/javase/6/docs/api/java/lang/SecurityException.html" class="javadoc">SecurityException</a> will be thrown if any other element of the classpath tries to add additional classes to the package. The main reason for sealing a package is Java's security system, which allows to require privileges for certain functions (such as file system access) in restricted environments (such as Java Applets). Sealing prevents untrusted code from circumventing these security measures.<br/> Another reason for sealing is preventing the user from accidentally loading two slightly different implementations for the same package, which can cause errors.</p><p class="subSecExplanation"> The simplest way to seal packages is two seal all packages contained in the JAR. Then you only need to add the <a href="#" id="tl-d37368e1894" class="tooltip" onclick="return tlClick('tl-d37368e1894','pp-d37368e310');" onmouseover="return tlOver('tl-d37368e1894','pp-d37368e310');" onmouseout="return tlOut('tl-d37368e1894','pp-d37368e310');">Sealed</a> attribute to the main section of the manifest: </p><pre class="subSecConfig"><a href="#" id="tl-d37368e1899" class="tooltip" onclick="return tlClick('tl-d37368e1899','pp-d37368e288');" onmouseover="return tlOver('tl-d37368e1899','pp-d37368e288');" onmouseout="return tlOut('tl-d37368e1899','pp-d37368e288');">Manifest-Version</a>: 1.0
<a href="#" id="tl-d37368e1902" class="tooltip" onclick="return tlClick('tl-d37368e1902','pp-d37368e310');" onmouseover="return tlOver('tl-d37368e1902','pp-d37368e310');" onmouseout="return tlOut('tl-d37368e1902','pp-d37368e310');">Sealed</a>: true
</pre><p class="subSecExplanation">Alternatively you can also seal parts of the content <em>using per-entry attributes</em>. You need a section for each package that you include, and can then turn sealing on or off for each section. The following example seals only two packages.</p><pre class="subSecConfig"><a href="#" id="tl-d37368e1913" class="tooltip" onclick="return tlClick('tl-d37368e1913','pp-d37368e288');" onmouseover="return tlOver('tl-d37368e1913','pp-d37368e288');" onmouseout="return tlOut('tl-d37368e1913','pp-d37368e288');">Manifest-Version</a>: 1.0
<a href="#" id="tl-d37368e1916" class="tooltip" onclick="return tlClick('tl-d37368e1916','pp-d37368e310');" onmouseover="return tlOver('tl-d37368e1916','pp-d37368e310');" onmouseout="return tlOut('tl-d37368e1916','pp-d37368e310');">Sealed</a>: false

<a href="#" id="tl-d37368e1919" class="tooltip" onclick="return tlClick('tl-d37368e1919','pp-d37368e368');" onmouseover="return tlOver('tl-d37368e1919','pp-d37368e368');" onmouseout="return tlOut('tl-d37368e1919','pp-d37368e368');">Name</a>: com/jarfiller/secure/main
<a href="#" id="tl-d37368e1922" class="tooltip" onclick="return tlClick('tl-d37368e1922','pp-d37368e310');" onmouseover="return tlOver('tl-d37368e1922','pp-d37368e310');" onmouseout="return tlOut('tl-d37368e1922','pp-d37368e310');">Sealed</a>: true

<a href="#" id="tl-d37368e1925" class="tooltip" onclick="return tlClick('tl-d37368e1925','pp-d37368e368');" onmouseover="return tlOver('tl-d37368e1925','pp-d37368e368');" onmouseout="return tlOut('tl-d37368e1925','pp-d37368e368');">Name</a>: com/jarfiller/secure/driver
<a href="#" id="tl-d37368e1928" class="tooltip" onclick="return tlClick('tl-d37368e1928','pp-d37368e310');" onmouseover="return tlOver('tl-d37368e1928','pp-d37368e310');" onmouseout="return tlOut('tl-d37368e1928','pp-d37368e310');">Sealed</a>: true
				</pre></div></div><div class="yahbar"><div class="yahprev"><a href="perentry.xhtml">Prev<br/><span>How to Specify Attributes For Single Packages (Per-Entry Attributes)</span></a></div><div class="yahhere"><a href="#" onclick="return navToggle();">Java Basics: JAR Files / How to...</a><br/><a href="/javabasics/jar/"><span>Single Page Mode</span></a>, <a href="#" onclick="return navToggle();"><span>Show Table of Content</span></a></div><div class="yahnext"><a href="jarmetadata.xhtml">Next<br/><span>How to Get Package Versioning Information</span></a></div></div></div><div id="sidecolumn">
  	  	<div><h3>Useful Links</h3><div class="sidecolumnSubTitleLine"/>
  			<a href="http://java.sun.com/javase/6/docs/technotes/guides/jar/index.html">Java Documentation</a><br/>
  			<a href="http://java.sun.com/javase/6/docs/technotes/guides/jar/jar.html">JAR File Specification</a><br/>
  			<a href="http://en.wikipedia.org/wiki/JAR_(file_format)">JAR on Wikipedia</a><br/>
  		</div>
  </div></div></div><div id="footer"><div id="footer-content"><div id="footer-left"><div class="footerLine"><a href="/">Home</a> - <a href="/about">About Jarfiller</a> - <a href="/imprint.xhtml">Imprint</a></div><div class="footerLine">Please send feedback and corrections to <a href="mailto:tim@tjansen.de">tim@<span style="display: none">got you</span>tjansen.de</a>.</div><div class="footerLine"><a href="http://www.twitter.com/timjansen">Follow</a> me on Twitter.</div><div class="copyrightLine">Â© 2010 Tim Jansen; content licensed under <a href="http://creativecommons.org/licenses/by/3.0/us/">cc-by</a>; example source code is public domain
				</div></div><div id="footer-right"><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="../../images/ext/cc-by-88x31.png"/></a></div></div></div><div id="navbar" onclick="return navToggle();" onmouseover="document.getElementById('navbar').className='mouseover';" onmouseout="document.getElementById('navbar').className='';"/><div id="navcontainer"><div id="navlinks"><div id="navclosebar"><a href="#" onclick="return navClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="navpositionbar" class="navpositionbar"/><h2 id="navtitle">Java Basics: JAR Files</h2><a id="nav_overview" class="navseclink" href="overview.xhtml#overview">Overview</a><a id="nav_intro" class="navsublink" href="overview.xhtml#intro">Intro</a><a id="nav_usecases" class="navsublink" href="overview.xhtml#usecases">When to use JARs</a><a id="nav_requirements" class="navsublink" href="overview.xhtml#requirements">Requirements</a><a id="nav_creatingjars" class="navseclink" href="creatingjars.xhtml#creatingjars">Creating JARs</a><a id="nav_structure" class="navsublink" href="creatingjars.xhtml#structure">Structure</a><a id="nav_manifest" class="navsublink" href="creatingjars.xhtml#manifest">Manifest</a><a id="nav_jartool" class="navsublink" href="creatingjars.xhtml#jartool">jar tool</a><span class="navseclink">How to...</span><a id="nav_executables" class="navsublink" href="executables.xhtml#executables">How to Start an Executable JAR</a><a id="nav_viewextract" class="navsublink" href="viewextract.xhtml#viewextract">How to View and Extract a JAR</a><a id="nav_libraries" class="navsublink" href="libraries.xhtml#libraries">How to Add Libraries to a JAR</a><a id="nav_selfsigning" class="navsublink" href="selfsigning.xhtml#selfsigning">How to Create a (Self-)Signed Jar</a><a id="nav_certification" class="navsublink" href="certification.xhtml#certification">How to Sign a Jar with a Valid Certificate</a><a id="nav_perentry" class="navsublink" href="perentry.xhtml#perentry">How to Specify Attributes For Single Packages (Per-Entry Attributes)</a><a id="nav_sealing" class="navsublink" href="sealing.xhtml#sealing">How to Seal Packages in a JAR</a><a id="nav_jarmetadata" class="navsublink" href="jarmetadata.xhtml#jarmetadata">How to Get Package Versioning Information</a><a id="nav_eclipse" class="navsublink" href="eclipse.xhtml#eclipse">How to Create JARs with Eclipse</a><a id="nav_ant" class="navsublink" href="ant.xhtml#ant">How to Create JARs with Ant</a></div></div><div id="popups"><div id="pp-d37368e288" class="tooltip">Every <span class="idf">MANIFEST.MF</span> file is required to start with the <span class="idf">Manifest-Version</span>. It describes the file format version of the file. Currently it is always "1.0".</div><div id="pp-d37368e310" class="tooltip"><span class="idf">Sealed</span> means that only this JAR is the only source for packages. This can be important for security-reasons (to prevent untrusted code from modifying the code in this JAR). Use the value <span class="idf">true</span> to seal, and <span class="idf">false</span> for unsealed packages.<br/> <span class="idf">Sealed</span> can either be used as a main attribute, or as a per-entry attribute to seal specific packages. If you have a <span class="idf">Sealed</span> main attribute, this is the default for all packages, but can be overridden by per-entry attributes.</div><div id="pp-d37368e368" class="tooltip"><span class="idf">Name</span> specifies the relative path of the file the section applies to. It must be the first attribute of all sections except the main section.</div><div id="ttCloseBar" class="closeBar"><a href="#" onclick="return tlClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div><div id="topicCloseBar" class="closeBar"><a href="#" onclick="return tpcClose();"><img src="../../images/close.png" height="16" width="16" alt="close"/></a></div></div></body></html>